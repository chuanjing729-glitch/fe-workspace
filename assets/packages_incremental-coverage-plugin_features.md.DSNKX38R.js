import{_ as t,c as a,o as r,a3 as o}from"./chunks/framework.KoSEt7m1.js";const p=JSON.parse('{"title":"features","description":"","frontmatter":{"title":"features","editLink":true},"headers":[],"relativePath":"packages/incremental-coverage-plugin/features.md","filePath":"packages/incremental-coverage-plugin/features.md"}'),i={name:"packages/incremental-coverage-plugin/features.md"};function l(n,e,s,c,g,d){return r(),a("div",null,[...e[0]||(e[0]=[o('<p>增量覆盖率插件不仅仅是一个覆盖率收集工具，它专为高性能研发链路设计，具备多项生产级特性。</p><h2 id="🎯-增量计算引擎" tabindex="-1">🎯 增量计算引擎 <a class="header-anchor" href="#🎯-增量计算引擎" aria-label="Permalink to &quot;🎯 增量计算引擎&quot;">​</a></h2><p>本插件的核心竞争力在于“精准”。</p><ul><li><strong>Git Diff 深度集成</strong>: 通过 <code>simple-git</code> 自动检测 Workspace 中的未提交改动。</li><li><strong>行级精准匹配</strong>: 自动解析 Git 输出的 Chunk 信息，过滤出真正的新增或修改行号。</li><li><strong>差异比对 (Differ v2)</strong>: 基于 <code>istanbul-diff</code> 的二次开发，能够完美处理空行、注释及大括号等非执行代码行对覆盖率的干扰。</li></ul><h2 id="🛡-生产级保护机制" tabindex="-1">🛡 生产级保护机制 <a class="header-anchor" href="#🛡-生产级保护机制" aria-label="Permalink to &quot;🛡 生产级保护机制&quot;">​</a></h2><p>为了确保构建和运行过程的极致稳定，我们内置了以下机制：</p><ul><li><strong>防抖上报 (Debounced Reporting)</strong>: 自研防抖算法，避免浏览器端频繁触发覆盖率上报，显著降低主线程 CPU 负载。</li><li><strong>故障容忍与重试</strong>: 上报服务由于网络或其他原因暂时不可用时，具备内建的重试逻辑，确保数据不丢失。</li><li><strong>报告自动清理</strong>: 自动维护 <code>.coverage</code> 目录，默认仅保留最近 15 份历史报告，防止磁盘空间过度膨胀。</li><li><strong>优雅退出</strong>: 利用 Webpack 钩子，确保在进程中断（如 Ctrl+C）时，依然能完成当前数据的持久化并生成最后一份报告。</li></ul><h2 id="📊-交互式报告" tabindex="-1">📊 交互式报告 <a class="header-anchor" href="#📊-交互式报告" aria-label="Permalink to &quot;📊 交互式报告&quot;">​</a></h2><p>我们重新设计了报告的展示维度：</p><ul><li><strong>变更行高亮</strong>: 在报告中直观标注出哪些属于变更行，哪些已被覆盖。</li><li><strong>时间轴回溯</strong>: 轻松访问历史自测记录，对比研发进度的覆盖率提升趋势。</li><li><strong>多格式输出</strong>: 同时支持 HTML 可视化报告和 JSON 机器可读报告。</li></ul><h2 id="🧩-自动化集成" tabindex="-1">🧩 自动化集成 <a class="header-anchor" href="#🧩-自动化集成" aria-label="Permalink to &quot;🧩 自动化集成&quot;">​</a></h2><ul><li><strong>HMR 兼容</strong>: 完美支持 Webpack 热更新，开发者修改代码后，覆盖率统计会自动重置或合并。</li><li><strong>自定义阈值</strong>: 支持针对不同项目、不同阶段设置自定义的 <code>threshold</code>，未达标时会在控制台显示显著警告。</li></ul>',12)])])}const h=t(i,[["render",l]]);export{p as __pageData,h as default};
