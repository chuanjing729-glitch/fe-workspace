import{_ as i,c as a,o as n,a3 as l}from"./chunks/framework.KoSEt7m1.js";const g=JSON.parse('{"title":"æ•…éšœæ’æŸ¥æŒ‡å—","description":"","frontmatter":{},"headers":[],"relativePath":"packages/incremental-coverage-plugin/troubleshooting.md","filePath":"packages/incremental-coverage-plugin/troubleshooting.md"}'),p={name:"packages/incremental-coverage-plugin/troubleshooting.md"};function e(h,s,t,k,r,d){return n(),a("div",null,[...s[0]||(s[0]=[l(`<h1 id="æ•…éšœæ’æŸ¥æŒ‡å—" tabindex="-1">æ•…éšœæ’æŸ¥æŒ‡å— <a class="header-anchor" href="#æ•…éšœæ’æŸ¥æŒ‡å—" aria-label="Permalink to &quot;æ•…éšœæ’æŸ¥æŒ‡å—&quot;">â€‹</a></h1><p>æœ¬æ–‡æ¡£å¸®åŠ©æ‚¨è¯Šæ–­å’Œè§£å†³ä½¿ç”¨ Incremental Coverage Plugin æ—¶é‡åˆ°çš„å¸¸è§é—®é¢˜ã€‚</p><hr><h2 id="ğŸ”-é—®é¢˜è¯Šæ–­æµç¨‹" tabindex="-1">ğŸ” é—®é¢˜è¯Šæ–­æµç¨‹ <a class="header-anchor" href="#ğŸ”-é—®é¢˜è¯Šæ–­æµç¨‹" aria-label="Permalink to &quot;ğŸ” é—®é¢˜è¯Šæ–­æµç¨‹&quot;">â€‹</a></h2><p>é‡åˆ°é—®é¢˜æ—¶ï¼Œè¯·æŒ‰ä»¥ä¸‹é¡ºåºæ£€æŸ¥ï¼š</p><ol><li>âœ… æŸ¥çœ‹æ§åˆ¶å°è¾“å‡ºï¼Œç¡®è®¤æ’ä»¶æ˜¯å¦æ­£å¸¸åˆå§‹åŒ–</li><li>âœ… æ£€æŸ¥ <code>.coverage/</code> ç›®å½•æ˜¯å¦å­˜åœ¨</li><li>âœ… éªŒè¯ Git diff æ˜¯å¦æœ‰å˜æ›´</li><li>âœ… ç¡®è®¤ Babel æ’æ¡©æ˜¯å¦ç”Ÿæ•ˆ</li></ol><hr><h2 id="é—®é¢˜-1-è¦†ç›–ç‡å§‹ç»ˆä¸º-0-âŒ" tabindex="-1">é—®é¢˜ 1ï¼šè¦†ç›–ç‡å§‹ç»ˆä¸º 0 âŒ <a class="header-anchor" href="#é—®é¢˜-1-è¦†ç›–ç‡å§‹ç»ˆä¸º-0-âŒ" aria-label="Permalink to &quot;é—®é¢˜ 1ï¼šè¦†ç›–ç‡å§‹ç»ˆä¸º 0 âŒ&quot;">â€‹</a></h2><h3 id="ç—‡çŠ¶" tabindex="-1">ç—‡çŠ¶ <a class="header-anchor" href="#ç—‡çŠ¶" aria-label="Permalink to &quot;ç—‡çŠ¶&quot;">â€‹</a></h3><ul><li>æ’ä»¶æ­£å¸¸å¯åŠ¨</li><li>æ§åˆ¶å°æ˜¾ç¤º <code>å¢é‡è¦†ç›–ç‡: 0.00%</code></li><li>HTML æŠ¥å‘Šæ˜¾ç¤º <code>0 changed lines</code></li><li><code>.coverage/latest.html</code> æ–‡ä»¶ä¸ºç©ºæˆ–æ— æ•°æ®</li></ul><h3 id="å¯èƒ½åŸå› å’Œè§£å†³æ–¹æ¡ˆ" tabindex="-1">å¯èƒ½åŸå› å’Œè§£å†³æ–¹æ¡ˆ <a class="header-anchor" href="#å¯èƒ½åŸå› å’Œè§£å†³æ–¹æ¡ˆ" aria-label="Permalink to &quot;å¯èƒ½åŸå› å’Œè§£å†³æ–¹æ¡ˆ&quot;">â€‹</a></h3><h4 id="åŸå› -1-1-babel-æ’æ¡©æœªç”Ÿæ•ˆ" tabindex="-1">åŸå›  1.1ï¼šBabel æ’æ¡©æœªç”Ÿæ•ˆ <a class="header-anchor" href="#åŸå› -1-1-babel-æ’æ¡©æœªç”Ÿæ•ˆ" aria-label="Permalink to &quot;åŸå›  1.1ï¼šBabel æ’æ¡©æœªç”Ÿæ•ˆ&quot;">â€‹</a></h4><p><strong>è¯Šæ–­æ–¹æ³•</strong>ï¼š</p><p>æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…· â†’ Sources é¢æ¿ï¼ŒæŸ¥çœ‹æºä»£ç ã€‚<strong>å¦‚æœçœ‹ä¸åˆ° <code>__coverage__</code> å˜é‡</strong>ï¼Œè¯´æ˜æ’æ¡©æœªç”Ÿæ•ˆã€‚</p><p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// webpack.config.js</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  module: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    rules: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        test:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /</span><span style="--shiki-light:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold;">\\.</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">js</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        loader: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;babel-loader&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        exclude:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">node_modules</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        options: {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">          // âœ… 1. ç¦ç”¨ç¼“å­˜ï¼ˆä»…ç”¨äºè°ƒè¯•ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          cacheDirectory: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">          // âœ… 2. ç¡®ä¿ä½¿ç”¨é¡¹ç›®çš„ babel.config.js</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">          // ä¸è¦åœ¨è¿™é‡Œå†…è”é…ç½®</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p>æ£€æŸ¥ <code>babel.config.js</code>ï¼š</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  presets: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;@babel/preset-env&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { modules: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // âœ… ä¸è¦æ·»åŠ  pluginsï¼Œæ’ä»¶ä¼šè‡ªåŠ¨æ³¨å…¥</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p><strong>é‡å¯å¼€å‘æœåŠ¡å™¨</strong>å¹¶æ¸…é™¤æµè§ˆå™¨ç¼“å­˜ã€‚</p><h4 id="åŸå› -1-2-include-é…ç½®ä¸åŒ¹é…" tabindex="-1">åŸå›  1.2ï¼šinclude é…ç½®ä¸åŒ¹é… <a class="header-anchor" href="#åŸå› -1-2-include-é…ç½®ä¸åŒ¹é…" aria-label="Permalink to &quot;åŸå›  1.2ï¼šinclude é…ç½®ä¸åŒ¹é…&quot;">â€‹</a></h4><p><strong>è¯Šæ–­æ–¹æ³•</strong>ï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æŸ¥çœ‹é¡¹ç›®çš„å®é™…æ–‡ä»¶ç»“æ„</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ls</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -R</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> src/</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å¯¹æ¯”æ’ä»¶é…ç½®</span></span></code></pre></div><p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p><p>ç¡®ä¿ <code>include</code> æ¨¡å¼ä¸å®é™…æ–‡ä»¶è·¯å¾„åŒ¹é…ï¼š</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">WebpackIncrementalCoveragePlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // âŒ é”™è¯¯ï¼šè·¯å¾„ä¸åŒ¹é…</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  include: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;app/**/*.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // âœ… æ­£ç¡®ï¼šä¸å®é™…ç›®å½•ç»“æ„åŒ¹é…</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  include: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;src/**/*.{js,vue}&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p><strong>å¸¸è§åŒ¹é…é—®é¢˜</strong>ï¼š</p><table tabindex="0"><thead><tr><th>å®é™…è·¯å¾„</th><th>é”™è¯¯é…ç½®</th><th>æ­£ç¡®é…ç½®</th></tr></thead><tbody><tr><td><code>src/views/Home.vue</code></td><td><code>views/**</code></td><td><code>src/views/**</code></td></tr><tr><td><code>src/components/Button.js</code></td><td><code>**/*.ts</code></td><td><code>**/*.{js,ts}</code></td></tr><tr><td><code>app/index.js</code></td><td><code>src/**</code></td><td><code>app/**</code></td></tr></tbody></table><h4 id="åŸå› -1-3-git-diff-æ²¡æœ‰æ£€æµ‹åˆ°å˜æ›´" tabindex="-1">åŸå›  1.3ï¼šGit diff æ²¡æœ‰æ£€æµ‹åˆ°å˜æ›´ <a class="header-anchor" href="#åŸå› -1-3-git-diff-æ²¡æœ‰æ£€æµ‹åˆ°å˜æ›´" aria-label="Permalink to &quot;åŸå›  1.3ï¼šGit diff æ²¡æœ‰æ£€æµ‹åˆ°å˜æ›´&quot;">â€‹</a></h4><p><strong>è¯Šæ–­æ–¹æ³•</strong>ï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æŸ¥çœ‹å½“å‰åˆ†æ”¯ç›¸å¯¹äº main çš„å˜æ›´</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> diff</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> main</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --name-only</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># åº”è¯¥çœ‹åˆ°ä¿®æ”¹çš„æ–‡ä»¶åˆ—è¡¨</span></span></code></pre></div><p>å¦‚æœè¾“å‡ºä¸ºç©ºï¼Œè¯´æ˜æ²¡æœ‰å˜æ›´ã€‚</p><p><strong>è§£å†³æ–¹æ¡ˆ A</strong>ï¼šç¡®ä¿æœ‰æœªæäº¤çš„ä¿®æ”¹</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ä¿®æ”¹ä¸€äº›æ–‡ä»¶</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ç„¶åæŸ¥çœ‹çŠ¶æ€</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> status</span></span></code></pre></div><p><strong>è§£å†³æ–¹æ¡ˆ B</strong>ï¼šä¿®æ”¹ gitDiffBase</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">WebpackIncrementalCoveragePlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å¦‚æœä½ çš„ä¸»åˆ†æ”¯æ˜¯ master</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  gitDiffBase: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;master&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // æˆ–è€…å¯¹æ¯”ç‰¹å®š commit</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  gitDiffBase: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;abc123&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // æˆ–è€…åªå¯¹æ¯”æœ€è¿‘ä¸€æ¬¡æäº¤</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  gitDiffBase: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;HEAD~1&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h4 id="åŸå› -1-4-æœªæ‰§è¡Œä»»ä½•ä»£ç " tabindex="-1">åŸå›  1.4ï¼šæœªæ‰§è¡Œä»»ä½•ä»£ç  <a class="header-anchor" href="#åŸå› -1-4-æœªæ‰§è¡Œä»»ä½•ä»£ç " aria-label="Permalink to &quot;åŸå›  1.4ï¼šæœªæ‰§è¡Œä»»ä½•ä»£ç &quot;">â€‹</a></h4><p><strong>è¯Šæ–­æ–¹æ³•</strong>ï¼š</p><p>æ£€æŸ¥æ˜¯å¦çœŸçš„æ“ä½œäº†ä¿®æ”¹çš„åŠŸèƒ½ã€‚</p><p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p><ol><li>åœ¨æµè§ˆå™¨ä¸­<strong>å®é™…ç‚¹å‡»ã€è¾“å…¥ã€äº¤äº’</strong></li><li>ç¡®ä¿æ‰§è¡Œäº†ä¿®æ”¹çš„ä»£ç è·¯å¾„</li><li>ç­‰å¾… <code>reportInterval</code> æ—¶é—´åæŸ¥çœ‹æŠ¥å‘Š</li></ol><hr><h2 id="é—®é¢˜-2-æŠ¥é”™-cannot-find-module-babel-core-âŒ" tabindex="-1">é—®é¢˜ 2ï¼šæŠ¥é”™ &quot;Cannot find module &#39;@babel/core&#39;&quot; âŒ <a class="header-anchor" href="#é—®é¢˜-2-æŠ¥é”™-cannot-find-module-babel-core-âŒ" aria-label="Permalink to &quot;é—®é¢˜ 2ï¼šæŠ¥é”™ &quot;Cannot find module &#39;@babel/core&#39;&quot; âŒ&quot;">â€‹</a></h2><h3 id="ç—‡çŠ¶-1" tabindex="-1">ç—‡çŠ¶ <a class="header-anchor" href="#ç—‡çŠ¶-1" aria-label="Permalink to &quot;ç—‡çŠ¶&quot;">â€‹</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Error: Cannot find module &#39;@babel/core&#39;</span></span>
<span class="line"><span>Require stack:</span></span>
<span class="line"><span>- /path/to/node_modules/babel-plugin-istanbul/...</span></span></code></pre></div><h3 id="åŸå› " tabindex="-1">åŸå›  <a class="header-anchor" href="#åŸå› " aria-label="Permalink to &quot;åŸå› &quot;">â€‹</a></h3><p>æ’ä»¶å·²åŒ…å«åœ¨æ’ä»¶ä¾èµ–ä¸­ã€‚ä½†å¯èƒ½æ˜¯ä»¥ä¸‹åŸå› ï¼š</p><ol><li>ä½¿ç”¨äº†æ—§ç‰ˆæœ¬çš„æ’ä»¶</li><li>npm install æ—¶å‡ºé”™</li><li>node_modules æŸå</li></ol><h3 id="è§£å†³æ–¹æ¡ˆ" tabindex="-1">è§£å†³æ–¹æ¡ˆ <a class="header-anchor" href="#è§£å†³æ–¹æ¡ˆ" aria-label="Permalink to &quot;è§£å†³æ–¹æ¡ˆ&quot;">â€‹</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1. æ£€æŸ¥æ’ä»¶ç‰ˆæœ¬</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ls</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @51jbs/incremental-coverage-plugin</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 2. å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @51jbs/incremental-coverage-plugin@latest</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --save-dev</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 3. æ¸…ç†å¹¶é‡æ–°å®‰è£…</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -rf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> node_modules</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> package-lock.json</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 4. éªŒè¯ @babel/core å·²å®‰è£…</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ls</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @babel/core</span></span></code></pre></div><hr><h2 id="é—®é¢˜-3-webpack-dev-server-ä¸­é—´ä»¶æŠ¥é”™-âŒ" tabindex="-1">é—®é¢˜ 3ï¼šwebpack-dev-server ä¸­é—´ä»¶æŠ¥é”™ âŒ <a class="header-anchor" href="#é—®é¢˜-3-webpack-dev-server-ä¸­é—´ä»¶æŠ¥é”™-âŒ" aria-label="Permalink to &quot;é—®é¢˜ 3ï¼šwebpack-dev-server ä¸­é—´ä»¶æŠ¥é”™ âŒ&quot;">â€‹</a></h2><h3 id="ç—‡çŠ¶-2" tabindex="-1">ç—‡çŠ¶ <a class="header-anchor" href="#ç—‡çŠ¶-2" aria-label="Permalink to &quot;ç—‡çŠ¶&quot;">â€‹</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>TypeError: Cannot read property &#39;unshift&#39; of undefined</span></span>
<span class="line"><span>  at setupMiddlewares (webpack.config.js:...)</span></span></code></pre></div><p>æˆ–</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>TypeError: middlewares.unshift is not a function</span></span></code></pre></div><h3 id="åŸå› -1" tabindex="-1">åŸå›  <a class="header-anchor" href="#åŸå› -1" aria-label="Permalink to &quot;åŸå› &quot;">â€‹</a></h3><p>webpack-dev-server ç‰ˆæœ¬ä¸å…¼å®¹ï¼Œéœ€è¦ v4.0.0+</p><h3 id="è§£å†³æ–¹æ¡ˆ-1" tabindex="-1">è§£å†³æ–¹æ¡ˆ <a class="header-anchor" href="#è§£å†³æ–¹æ¡ˆ-1" aria-label="Permalink to &quot;è§£å†³æ–¹æ¡ˆ&quot;">â€‹</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1. æ£€æŸ¥å½“å‰ç‰ˆæœ¬</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ls</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> webpack-dev-server</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 2. å‡çº§åˆ° v4+</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> webpack-dev-server@^4.15.0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --save-dev</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 3. ç¡®ä¿ webpack é…ç½®æ­£ç¡®</span></span></code></pre></div><p>æ›´æ–° <code>webpack.config.js</code>ï¼š</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  devServer: {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // âœ… ä½¿ç”¨ setupMiddlewaresï¼ˆwebpack-dev-server 4.xï¼‰</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    setupMiddlewares</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">middlewares</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">devServer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // æ’ä»¶ä¼šè‡ªåŠ¨æ³¨å…¥</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> middlewares;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // âŒ ä¸è¦ä½¿ç”¨æ—§çš„ before/after é…ç½®</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // before: (app) =&gt; { ... }</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å·²åºŸå¼ƒ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><hr><h2 id="é—®é¢˜-4-git-æ£€æµ‹å¤±è´¥-âŒ" tabindex="-1">é—®é¢˜ 4ï¼šGit æ£€æµ‹å¤±è´¥ âŒ <a class="header-anchor" href="#é—®é¢˜-4-git-æ£€æµ‹å¤±è´¥-âŒ" aria-label="Permalink to &quot;é—®é¢˜ 4ï¼šGit æ£€æµ‹å¤±è´¥ âŒ&quot;">â€‹</a></h2><h3 id="ç—‡çŠ¶-3" tabindex="-1">ç—‡çŠ¶ <a class="header-anchor" href="#ç—‡çŠ¶-3" aria-label="Permalink to &quot;ç—‡çŠ¶&quot;">â€‹</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[IncrementalCoverage] âš ï¸ æœªæ£€æµ‹åˆ° Git å˜æ›´</span></span>
<span class="line"><span>[IncrementalCoverage] è¯·æ£€æŸ¥ï¼š</span></span>
<span class="line"><span>  1. å½“å‰ç›®å½•æ˜¯å¦æ˜¯ Git ä»“åº“</span></span>
<span class="line"><span>  2. gitDiffBase æ˜¯å¦æ­£ç¡®</span></span>
<span class="line"><span>  3. æ˜¯å¦æœ‰æœªæäº¤çš„ä¿®æ”¹</span></span></code></pre></div><h3 id="åŸå› -4-1-ä¸æ˜¯-git-ä»“åº“" tabindex="-1">åŸå›  4.1ï¼šä¸æ˜¯ Git ä»“åº“ <a class="header-anchor" href="#åŸå› -4-1-ä¸æ˜¯-git-ä»“åº“" aria-label="Permalink to &quot;åŸå›  4.1ï¼šä¸æ˜¯ Git ä»“åº“&quot;">â€‹</a></h3><p><strong>è¯Šæ–­</strong>ï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> status</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å¦‚æœæŠ¥é”™ï¼šfatal: not a git repository</span></span></code></pre></div><p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># åˆå§‹åŒ– Git ä»“åº“</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> init</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Initial commit&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># åˆ›å»ºä¸»åˆ†æ”¯</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> branch</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -M</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> main</span></span></code></pre></div><h3 id="åŸå› -4-2-gitdiffbase-åˆ†æ”¯ä¸å­˜åœ¨" tabindex="-1">åŸå›  4.2ï¼šgitDiffBase åˆ†æ”¯ä¸å­˜åœ¨ <a class="header-anchor" href="#åŸå› -4-2-gitdiffbase-åˆ†æ”¯ä¸å­˜åœ¨" aria-label="Permalink to &quot;åŸå›  4.2ï¼šgitDiffBase åˆ†æ”¯ä¸å­˜åœ¨&quot;">â€‹</a></h3><p><strong>è¯Šæ–­</strong>ï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> branch</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -a</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æ£€æŸ¥ main åˆ†æ”¯æ˜¯å¦å­˜åœ¨</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rev-parse</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> main</span></span></code></pre></div><p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">WebpackIncrementalCoveragePlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ä½¿ç”¨å­˜åœ¨çš„åˆ†æ”¯</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  gitDiffBase: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;master&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æˆ– &#39;develop&#39;, &#39;HEAD&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h3 id="åŸå› -4-3-å·¥ä½œç›®å½•åœ¨å­ç›®å½•ä¸­" tabindex="-1">åŸå›  4.3ï¼šå·¥ä½œç›®å½•åœ¨å­ç›®å½•ä¸­ <a class="header-anchor" href="#åŸå› -4-3-å·¥ä½œç›®å½•åœ¨å­ç›®å½•ä¸­" aria-label="Permalink to &quot;åŸå›  4.3ï¼šå·¥ä½œç›®å½•åœ¨å­ç›®å½•ä¸­&quot;">â€‹</a></h3><p><strong>ç—‡çŠ¶</strong>ï¼šé¡¹ç›®åœ¨ Git ä»“åº“çš„å­ç›®å½•ä¸­</p><p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p><p>æ’ä»¶ä¼šè‡ªåŠ¨å‘ä¸ŠæŸ¥æ‰¾ Git æ ¹ç›®å½•ï¼Œä½†æ‚¨å¯ä»¥æ‰‹åŠ¨æŒ‡å®šï¼š</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">WebpackIncrementalCoveragePlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // æŒ‡å®š Git æ ¹ç›®å½•</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  gitRoot: path.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(__dirname, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;../..&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  gitDiffBase: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;main&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><hr><h2 id="é—®é¢˜-5-æŠ¥å‘Šæ²¡æœ‰ç”Ÿæˆ-âŒ" tabindex="-1">é—®é¢˜ 5ï¼šæŠ¥å‘Šæ²¡æœ‰ç”Ÿæˆ âŒ <a class="header-anchor" href="#é—®é¢˜-5-æŠ¥å‘Šæ²¡æœ‰ç”Ÿæˆ-âŒ" aria-label="Permalink to &quot;é—®é¢˜ 5ï¼šæŠ¥å‘Šæ²¡æœ‰ç”Ÿæˆ âŒ&quot;">â€‹</a></h2><h3 id="ç—‡çŠ¶-4" tabindex="-1">ç—‡çŠ¶ <a class="header-anchor" href="#ç—‡çŠ¶-4" aria-label="Permalink to &quot;ç—‡çŠ¶&quot;">â€‹</a></h3><ul><li><code>.coverage/</code> ç›®å½•ä¸å­˜åœ¨</li><li>æˆ–è€…ç›®å½•å­˜åœ¨ä½†æ²¡æœ‰ <code>latest.html</code></li></ul><h3 id="åŸå› -5-1-reportinterval-å¤ªé•¿" tabindex="-1">åŸå›  5.1ï¼šreportInterval å¤ªé•¿ <a class="header-anchor" href="#åŸå› -5-1-reportinterval-å¤ªé•¿" aria-label="Permalink to &quot;åŸå›  5.1ï¼šreportInterval å¤ªé•¿&quot;">â€‹</a></h3><p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">WebpackIncrementalCoveragePlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  reportInterval: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ”¹ä¸º 5 ç§’ï¼Œæ–¹ä¾¿æµ‹è¯•</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p>ç­‰å¾…è¶³å¤Ÿæ—¶é—´åå†æ£€æŸ¥ã€‚</p><h3 id="åŸå› -5-2-outputdir-è·¯å¾„ä¸æ­£ç¡®" tabindex="-1">åŸå›  5.2ï¼šoutputDir è·¯å¾„ä¸æ­£ç¡® <a class="header-anchor" href="#åŸå› -5-2-outputdir-è·¯å¾„ä¸æ­£ç¡®" aria-label="Permalink to &quot;åŸå›  5.2ï¼šoutputDir è·¯å¾„ä¸æ­£ç¡®&quot;">â€‹</a></h3><p><strong>è¯Šæ–­</strong>ï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æŸ¥çœ‹å½“å‰å·¥ä½œç›®å½•</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">pwd</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æŸ¥çœ‹æ˜¯å¦æœ‰æƒé™åˆ›å»ºç›®å½•</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .coverage</span></span></code></pre></div><p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">WebpackIncrementalCoveragePlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ä½¿ç”¨ç»å¯¹è·¯å¾„</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  outputDir: path.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(__dirname, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;.coverage&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h3 id="åŸå› -5-3-æƒé™é—®é¢˜" tabindex="-1">åŸå›  5.3ï¼šæƒé™é—®é¢˜ <a class="header-anchor" href="#åŸå› -5-3-æƒé™é—®é¢˜" aria-label="Permalink to &quot;åŸå›  5.3ï¼šæƒé™é—®é¢˜&quot;">â€‹</a></h3><p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æ£€æŸ¥ç›®å½•æƒé™</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ls</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -la</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .coverage/</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å¦‚æœæœ‰æƒé™é—®é¢˜ï¼Œåˆ é™¤å¹¶é‡æ–°åˆ›å»º</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -rf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .coverage</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev</span></span></code></pre></div><hr><h2 id="é—®é¢˜-6-æ„å»ºé€Ÿåº¦å˜æ…¢-âŒ" tabindex="-1">é—®é¢˜ 6ï¼šæ„å»ºé€Ÿåº¦å˜æ…¢ âŒ <a class="header-anchor" href="#é—®é¢˜-6-æ„å»ºé€Ÿåº¦å˜æ…¢-âŒ" aria-label="Permalink to &quot;é—®é¢˜ 6ï¼šæ„å»ºé€Ÿåº¦å˜æ…¢ âŒ&quot;">â€‹</a></h2><h3 id="ç—‡çŠ¶-5" tabindex="-1">ç—‡çŠ¶ <a class="header-anchor" href="#ç—‡çŠ¶-5" aria-label="Permalink to &quot;ç—‡çŠ¶&quot;">â€‹</a></h3><ul><li>webpack ç¼–è¯‘æ—¶é—´æ˜æ˜¾å˜é•¿</li><li>é¦–æ¬¡åŠ è½½å¾ˆæ…¢</li></ul><h3 id="åŸå› -2" tabindex="-1">åŸå›  <a class="header-anchor" href="#åŸå› -2" aria-label="Permalink to &quot;åŸå› &quot;">â€‹</a></h3><p>Babel æ’æ¡©ä¼šå¢åŠ ç¼–è¯‘å¼€é”€</p><h3 id="è§£å†³æ–¹æ¡ˆ-2" tabindex="-1">è§£å†³æ–¹æ¡ˆ <a class="header-anchor" href="#è§£å†³æ–¹æ¡ˆ-2" aria-label="Permalink to &quot;è§£å†³æ–¹æ¡ˆ&quot;">â€‹</a></h3><h4 id="æ–¹æ¡ˆ-1-å¯ç”¨-babel-ç¼“å­˜" tabindex="-1">æ–¹æ¡ˆ 1ï¼šå¯ç”¨ Babel ç¼“å­˜ <a class="header-anchor" href="#æ–¹æ¡ˆ-1-å¯ç”¨-babel-ç¼“å­˜" aria-label="Permalink to &quot;æ–¹æ¡ˆ 1ï¼šå¯ç”¨ Babel ç¼“å­˜&quot;">â€‹</a></h4><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /</span><span style="--shiki-light:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold;">\\.</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">js</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  loader</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;babel-loader&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  options</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    cacheDirectory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âœ… å¯ç”¨ç¼“å­˜</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    cacheCompression</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ç¦ç”¨å‹ç¼©ä»¥æé€Ÿ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h4 id="æ–¹æ¡ˆ-2-é™åˆ¶è¦†ç›–ç‡ç»Ÿè®¡èŒƒå›´" tabindex="-1">æ–¹æ¡ˆ 2ï¼šé™åˆ¶è¦†ç›–ç‡ç»Ÿè®¡èŒƒå›´ <a class="header-anchor" href="#æ–¹æ¡ˆ-2-é™åˆ¶è¦†ç›–ç‡ç»Ÿè®¡èŒƒå›´" aria-label="Permalink to &quot;æ–¹æ¡ˆ 2ï¼šé™åˆ¶è¦†ç›–ç‡ç»Ÿè®¡èŒƒå›´&quot;">â€‹</a></h4><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">WebpackIncrementalCoveragePlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // åªç»Ÿè®¡æ ¸å¿ƒä¸šåŠ¡ä»£ç </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  include: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;src/views/**&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;src/components/**&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  exclude: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;**/*.test.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;**/*.spec.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;**/vendor/**&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;**/config/**&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h4 id="æ–¹æ¡ˆ-3-ä»…åœ¨éœ€è¦æ—¶å¯ç”¨" tabindex="-1">æ–¹æ¡ˆ 3ï¼šä»…åœ¨éœ€è¦æ—¶å¯ç”¨ <a class="header-anchor" href="#æ–¹æ¡ˆ-3-ä»…åœ¨éœ€è¦æ—¶å¯ç”¨" aria-label="Permalink to &quot;æ–¹æ¡ˆ 3ï¼šä»…åœ¨éœ€è¦æ—¶å¯ç”¨&quot;">â€‹</a></h4><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> isDev</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> process.env.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NODE_ENV</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;development&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> needCoverage</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> process.env.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">COVERAGE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;true&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  plugins: [</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(isDev </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> needCoverage </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> WebpackIncrementalCoveragePlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* ... */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p>ä½¿ç”¨æ—¶ï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æ™®é€šå¼€å‘ï¼ˆä¸ç»Ÿè®¡è¦†ç›–ç‡ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># éœ€è¦è¦†ç›–ç‡æ—¶</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">COVERAGE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">true</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev</span></span></code></pre></div><hr><h2 id="é—®é¢˜-7-ç”Ÿäº§ç¯å¢ƒä¹Ÿæ’æ¡©äº†-âŒ" tabindex="-1">é—®é¢˜ 7ï¼šç”Ÿäº§ç¯å¢ƒä¹Ÿæ’æ¡©äº† âŒ <a class="header-anchor" href="#é—®é¢˜-7-ç”Ÿäº§ç¯å¢ƒä¹Ÿæ’æ¡©äº†-âŒ" aria-label="Permalink to &quot;é—®é¢˜ 7ï¼šç”Ÿäº§ç¯å¢ƒä¹Ÿæ’æ¡©äº† âŒ&quot;">â€‹</a></h2><h3 id="ç—‡çŠ¶-6" tabindex="-1">ç—‡çŠ¶ <a class="header-anchor" href="#ç—‡çŠ¶-6" aria-label="Permalink to &quot;ç—‡çŠ¶&quot;">â€‹</a></h3><ul><li>ç”Ÿäº§ç¯å¢ƒä»£ç åŒ…å« <code>__coverage__</code></li><li>bundle.js æ–‡ä»¶å˜å¤§</li></ul><h3 id="åŸå› -3" tabindex="-1">åŸå›  <a class="header-anchor" href="#åŸå› -3" aria-label="Permalink to &quot;åŸå› &quot;">â€‹</a></h3><p>æ’ä»¶åœ¨ç”Ÿäº§ç¯å¢ƒä¹Ÿè¢«å¯ç”¨äº†</p><h3 id="è§£å†³æ–¹æ¡ˆ-3" tabindex="-1">è§£å†³æ–¹æ¡ˆ <a class="header-anchor" href="#è§£å†³æ–¹æ¡ˆ-3" aria-label="Permalink to &quot;è§£å†³æ–¹æ¡ˆ&quot;">â€‹</a></h3><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> isProd</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> process.env.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NODE_ENV</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;production&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  plugins: [</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // âœ… ä»…åœ¨å¼€å‘ç¯å¢ƒå¯ç”¨</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">isProd </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> WebpackIncrementalCoveragePlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* ... */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p>æˆ–è€…ï¼š</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// webpack.dev.jsï¼ˆå¼€å‘é…ç½®ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">WebpackIncrementalCoveragePlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;@51jbs/incremental-coverage-plugin/webpack&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  plugins: [</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> WebpackIncrementalCoveragePlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* ... */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// webpack.prod.jsï¼ˆç”Ÿäº§é…ç½®ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  plugins: [</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ä¸åŒ…å«è¦†ç›–ç‡æ’ä»¶</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><hr><h2 id="é—®é¢˜-8-è¦†ç›–ç‡æ•°æ®ä¸å‡†ç¡®-âŒ" tabindex="-1">é—®é¢˜ 8ï¼šè¦†ç›–ç‡æ•°æ®ä¸å‡†ç¡® âŒ <a class="header-anchor" href="#é—®é¢˜-8-è¦†ç›–ç‡æ•°æ®ä¸å‡†ç¡®-âŒ" aria-label="Permalink to &quot;é—®é¢˜ 8ï¼šè¦†ç›–ç‡æ•°æ®ä¸å‡†ç¡® âŒ&quot;">â€‹</a></h2><h3 id="ç—‡çŠ¶-7" tabindex="-1">ç—‡çŠ¶ <a class="header-anchor" href="#ç—‡çŠ¶-7" aria-label="Permalink to &quot;ç—‡çŠ¶&quot;">â€‹</a></h3><ul><li>æ˜æ˜æµ‹è¯•äº†æŸä¸ªåŠŸèƒ½ï¼Œä½†æ˜¾ç¤ºæœªè¦†ç›–</li><li>æŸäº›æ–‡ä»¶æ˜¾ç¤º 100% è¦†ç›–ï¼Œä½†å®é™…æ²¡æµ‹è¯•</li></ul><h3 id="åŸå› -8-1-source-map-ä¸æ­£ç¡®" tabindex="-1">åŸå›  8.1ï¼šSource Map ä¸æ­£ç¡® <a class="header-anchor" href="#åŸå› -8-1-source-map-ä¸æ­£ç¡®" aria-label="Permalink to &quot;åŸå›  8.1ï¼šSource Map ä¸æ­£ç¡®&quot;">â€‹</a></h3><p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // âœ… ä½¿ç”¨åˆé€‚çš„ source map</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  devtool: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;eval-source-map&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¼€å‘ç¯å¢ƒæ¨è</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // âŒ é¿å…ä½¿ç”¨</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // devtool: false,</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ä¼šå¯¼è‡´è¡Œå·ä¸å‡†</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // devtool: &#39;cheap-source-map&#39;,</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å¯èƒ½ä¸å¤Ÿç²¾ç¡®</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><h3 id="åŸå› -8-2-ä»£ç åˆ†å‰²å¯¼è‡´çš„é—®é¢˜" tabindex="-1">åŸå›  8.2ï¼šä»£ç åˆ†å‰²å¯¼è‡´çš„é—®é¢˜ <a class="header-anchor" href="#åŸå› -8-2-ä»£ç åˆ†å‰²å¯¼è‡´çš„é—®é¢˜" aria-label="Permalink to &quot;åŸå›  8.2ï¼šä»£ç åˆ†å‰²å¯¼è‡´çš„é—®é¢˜&quot;">â€‹</a></h3><p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p><p>ç¡®ä¿æ‰€æœ‰ chunk éƒ½è¢«åŠ è½½å’Œæ‰§è¡Œã€‚</p><hr><h2 id="ğŸ”§-è°ƒè¯•æŠ€å·§" tabindex="-1">ğŸ”§ è°ƒè¯•æŠ€å·§ <a class="header-anchor" href="#ğŸ”§-è°ƒè¯•æŠ€å·§" aria-label="Permalink to &quot;ğŸ”§ è°ƒè¯•æŠ€å·§&quot;">â€‹</a></h2><h3 id="_1-å¯ç”¨è¯¦ç»†æ—¥å¿—" tabindex="-1">1. å¯ç”¨è¯¦ç»†æ—¥å¿— <a class="header-anchor" href="#_1-å¯ç”¨è¯¦ç»†æ—¥å¿—" aria-label="Permalink to &quot;1. å¯ç”¨è¯¦ç»†æ—¥å¿—&quot;">â€‹</a></h3><p>åœ¨æ’ä»¶é…ç½®ä¸­æ·»åŠ ï¼š</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">WebpackIncrementalCoveragePlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  verbose: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å¯ç”¨è¯¦ç»†æ—¥å¿—ï¼ˆå¦‚æœæ’ä»¶æ”¯æŒï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h3 id="_2-æ£€æŸ¥æ’æ¡©ä»£ç " tabindex="-1">2. æ£€æŸ¥æ’æ¡©ä»£ç  <a class="header-anchor" href="#_2-æ£€æŸ¥æ’æ¡©ä»£ç " aria-label="Permalink to &quot;2. æ£€æŸ¥æ’æ¡©ä»£ç &quot;">â€‹</a></h3><p>åœ¨æµè§ˆå™¨æ§åˆ¶å°æ‰§è¡Œï¼š</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æŸ¥çœ‹è¦†ç›–ç‡æ•°æ®</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(window.__coverage__)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åº”è¯¥çœ‹åˆ°ç±»ä¼¼è¾“å‡º</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;/path/to/src/App.vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/path/to/src/App.vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    s: { </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* è¯­å¥è¦†ç›– */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    b: { </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* åˆ†æ”¯è¦†ç›– */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    f: { </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* å‡½æ•°è¦†ç›– */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="_3-æ‰‹åŠ¨è§¦å‘æŠ¥å‘Šç”Ÿæˆ" tabindex="-1">3. æ‰‹åŠ¨è§¦å‘æŠ¥å‘Šç”Ÿæˆ <a class="header-anchor" href="#_3-æ‰‹åŠ¨è§¦å‘æŠ¥å‘Šç”Ÿæˆ" aria-label="Permalink to &quot;3. æ‰‹åŠ¨è§¦å‘æŠ¥å‘Šç”Ÿæˆ&quot;">â€‹</a></h3><p>å¦‚æœä½¿ç”¨çš„æ˜¯æ’ä»¶çš„ APIï¼š</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åœ¨æµè§ˆå™¨æ§åˆ¶å°</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/api/coverage&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  method: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;POST&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  headers: { </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Content-Type&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;application/json&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  body: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">JSON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stringify</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(window.__coverage__)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><hr><h2 id="ğŸ“-è·å–å¸®åŠ©" tabindex="-1">ğŸ“ è·å–å¸®åŠ© <a class="header-anchor" href="#ğŸ“-è·å–å¸®åŠ©" aria-label="Permalink to &quot;ğŸ“ è·å–å¸®åŠ©&quot;">â€‹</a></h2><p>å¦‚æœä»¥ä¸Šæ–¹æ³•éƒ½æ— æ³•è§£å†³æ‚¨çš„é—®é¢˜ï¼Œè¯·ï¼š</p><ol><li>æŸ¥çœ‹ <a href="https://github.com/chuanjing729-glitch/fe-workspace/issues" target="_blank" rel="noreferrer">GitHub Issues</a></li><li>æä¾›ä»¥ä¸‹ä¿¡æ¯ï¼š <ul><li>Node.js ç‰ˆæœ¬ (<code>node -v</code>)</li><li>npm/pnpm ç‰ˆæœ¬</li><li>Webpack ç‰ˆæœ¬</li><li>æ’ä»¶ç‰ˆæœ¬</li><li>å®Œæ•´çš„é”™è¯¯ä¿¡æ¯</li><li>æœ€å°å¯å¤ç°ç¤ºä¾‹</li></ul></li></ol><hr><h2 id="âœ…-éªŒè¯æ¸…å•" tabindex="-1">âœ… éªŒè¯æ¸…å• <a class="header-anchor" href="#âœ…-éªŒè¯æ¸…å•" aria-label="Permalink to &quot;âœ… éªŒè¯æ¸…å•&quot;">â€‹</a></h2><p>é—®é¢˜è§£å†³åï¼Œè¯·éªŒè¯ï¼š</p><ul><li>[ ] æ§åˆ¶å°æœ‰æ­£ç¡®çš„æ’ä»¶åˆå§‹åŒ–æ—¥å¿—</li><li>[ ] Git diff æ­£ç¡®æ£€æµ‹åˆ°å˜æ›´</li><li>[ ] <code>.coverage/</code> ç›®å½•ç”Ÿæˆ</li><li>[ ] <code>latest.html</code> æœ‰æ•°æ®</li><li>[ ] è¦†ç›–ç‡ç™¾åˆ†æ¯”åˆç†ï¼ˆä¸æ˜¯ 0% ä¹Ÿä¸æ˜¯ 100%ï¼‰</li></ul>`,150)])])}const E=i(p,[["render",e]]);export{g as __pageData,E as default};
