import{_ as s,c as a,o as l,a3 as n}from"./chunks/framework.KoSEt7m1.js";const o=JSON.parse('{"title":"代码质量保障","description":"","frontmatter":{},"headers":[],"relativePath":"ai-guidelines/code-quality.md","filePath":"ai-guidelines/code-quality.md"}'),h={name:"ai-guidelines/code-quality.md"};function t(e,i,k,p,r,d){return l(),a("div",null,[...i[0]||(i[0]=[n(`<h1 id="代码质量保障" tabindex="-1">代码质量保障 <a class="header-anchor" href="#代码质量保障" aria-label="Permalink to &quot;代码质量保障&quot;">​</a></h1><h2 id="代码审查流程" tabindex="-1">代码审查流程 <a class="header-anchor" href="#代码审查流程" aria-label="Permalink to &quot;代码审查流程&quot;">​</a></h2><h3 id="ai辅助审查步骤" tabindex="-1">AI辅助审查步骤 <a class="header-anchor" href="#ai辅助审查步骤" aria-label="Permalink to &quot;AI辅助审查步骤&quot;">​</a></h3><ol><li><p><strong>初步检查</strong></p><ul><li>使用灵码进行静态代码分析</li><li>检查潜在的错误和不规范代码</li><li>识别性能瓶颈和安全隐患</li></ul></li><li><p><strong>规范符合性检查</strong></p><ul><li>验证代码是否符合团队编码规范</li><li>检查命名规范和代码结构</li><li>确认注释和文档完整性</li></ul></li><li><p><strong>人工复核</strong></p><ul><li>对AI标记的问题进行人工确认</li><li>评估AI建议的合理性</li><li>确保修改不会引入新问题</li></ul></li></ol><h3 id="审查重点" tabindex="-1">审查重点 <a class="header-anchor" href="#审查重点" aria-label="Permalink to &quot;审查重点&quot;">​</a></h3><h4 id="_1-功能正确性" tabindex="-1">1. 功能正确性 <a class="header-anchor" href="#_1-功能正确性" aria-label="Permalink to &quot;1. 功能正确性&quot;">​</a></h4><ul><li>逻辑实现是否正确</li><li>边界条件处理是否完善</li><li>异常情况是否妥善处理</li></ul><h4 id="_2-性能优化" tabindex="-1">2. 性能优化 <a class="header-anchor" href="#_2-性能优化" aria-label="Permalink to &quot;2. 性能优化&quot;">​</a></h4><ul><li>算法复杂度是否合理</li><li>是否存在内存泄漏风险</li><li>DOM操作是否高效</li></ul><h4 id="_3-可维护性" tabindex="-1">3. 可维护性 <a class="header-anchor" href="#_3-可维护性" aria-label="Permalink to &quot;3. 可维护性&quot;">​</a></h4><ul><li>代码结构是否清晰</li><li>命名是否具有描述性</li><li>是否有足够的注释说明</li></ul><h2 id="测试用例生成" tabindex="-1">测试用例生成 <a class="header-anchor" href="#测试用例生成" aria-label="Permalink to &quot;测试用例生成&quot;">​</a></h2><h3 id="单元测试生成" tabindex="-1">单元测试生成 <a class="header-anchor" href="#单元测试生成" aria-label="Permalink to &quot;单元测试生成&quot;">​</a></h3><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 为以下函数生成单元测试</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> formatCurrency</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">amount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Intl.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">NumberFormat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;zh-CN&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    style: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;currency&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    currency: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;CNY&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">format</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(amount);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 灵码会生成类似以下的测试用例：</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">describe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;formatCurrency&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;should format positive number correctly&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">formatCurrency</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toBe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;¥1,000.00&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;should format negative number correctly&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">formatCurrency</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">500</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toBe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;-¥500.00&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;should format zero correctly&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">formatCurrency</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toBe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;¥0.00&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><h3 id="边界测试生成" tabindex="-1">边界测试生成 <a class="header-anchor" href="#边界测试生成" aria-label="Permalink to &quot;边界测试生成&quot;">​</a></h3><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 为防抖函数生成边界测试</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 灵码会考虑以下测试场景：</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 1. 正常调用场景</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 2. 快速连续调用场景</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 3. 取消防抖场景</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 4. 不同延迟时间场景</span></span></code></pre></div><h3 id="集成测试生成" tabindex="-1">集成测试生成 <a class="header-anchor" href="#集成测试生成" aria-label="Permalink to &quot;集成测试生成&quot;">​</a></h3><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 为API调用函数生成集成测试</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 灵码会生成包含以下内容的测试：</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 1. 成功响应测试</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 2. 错误响应测试</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 3. 网络超时测试</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 4. 数据验证测试</span></span></code></pre></div><h2 id="代码规范检查" tabindex="-1">代码规范检查 <a class="header-anchor" href="#代码规范检查" aria-label="Permalink to &quot;代码规范检查&quot;">​</a></h2><h3 id="命名规范" tabindex="-1">命名规范 <a class="header-anchor" href="#命名规范" aria-label="Permalink to &quot;命名规范&quot;">​</a></h3><ul><li>变量名应具有描述性</li><li>函数名应表达其功能</li><li>常量名应使用大写字母和下划线</li></ul><h3 id="代码结构" tabindex="-1">代码结构 <a class="header-anchor" href="#代码结构" aria-label="Permalink to &quot;代码结构&quot;">​</a></h3><ul><li>函数长度应适中（建议不超过50行）</li><li>类和模块职责应单一</li><li>代码嵌套层级不应过深（建议不超过4层）</li></ul><h3 id="注释规范" tabindex="-1">注释规范 <a class="header-anchor" href="#注释规范" aria-label="Permalink to &quot;注释规范&quot;">​</a></h3><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * 计算订单总价</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@param</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> {Array}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> items</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> - 商品列表</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@param</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> {Object}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> options</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> - 计算选项</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@returns</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> {number}</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> 订单总价</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@example</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * calculateTotal([</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> *   { price: 100, quantity: 2 },</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> *   { price: 50, quantity: 1 }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * ]);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 返回 250</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> */</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> calculateTotal</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">items</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">options</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {}) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 实现代码</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="性能优化建议" tabindex="-1">性能优化建议 <a class="header-anchor" href="#性能优化建议" aria-label="Permalink to &quot;性能优化建议&quot;">​</a></h2><h3 id="_1-算法优化" tabindex="-1">1. 算法优化 <a class="header-anchor" href="#_1-算法优化" aria-label="Permalink to &quot;1. 算法优化&quot;">​</a></h3><ul><li>选择合适的数据结构</li><li>避免不必要的循环嵌套</li><li>使用高效的算法实现</li></ul><h3 id="_2-内存管理" tabindex="-1">2. 内存管理 <a class="header-anchor" href="#_2-内存管理" aria-label="Permalink to &quot;2. 内存管理&quot;">​</a></h3><ul><li>及时释放不需要的对象引用</li><li>避免内存泄漏</li><li>合理使用缓存机制</li></ul><h3 id="_3-网络优化" tabindex="-1">3. 网络优化 <a class="header-anchor" href="#_3-网络优化" aria-label="Permalink to &quot;3. 网络优化&quot;">​</a></h3><ul><li>合并HTTP请求</li><li>使用缓存减少重复请求</li><li>实施适当的加载策略</li></ul><h2 id="可维护性提升" tabindex="-1">可维护性提升 <a class="header-anchor" href="#可维护性提升" aria-label="Permalink to &quot;可维护性提升&quot;">​</a></h2><h3 id="代码复用" tabindex="-1">代码复用 <a class="header-anchor" href="#代码复用" aria-label="Permalink to &quot;代码复用&quot;">​</a></h3><ul><li>识别可复用的代码片段</li><li>提取通用功能为独立模块</li><li>建立组件库和工具库</li></ul><h3 id="模块化设计" tabindex="-1">模块化设计 <a class="header-anchor" href="#模块化设计" aria-label="Permalink to &quot;模块化设计&quot;">​</a></h3><ul><li>遵循单一职责原则</li><li>合理划分模块边界</li><li>明确定义接口和依赖关系</li></ul><h3 id="文档完善" tabindex="-1">文档完善 <a class="header-anchor" href="#文档完善" aria-label="Permalink to &quot;文档完善&quot;">​</a></h3><ul><li>为公共API编写详细文档</li><li>提供使用示例和最佳实践</li><li>维护更新日志和变更说明</li></ul><h2 id="质量度量标准" tabindex="-1">质量度量标准 <a class="header-anchor" href="#质量度量标准" aria-label="Permalink to &quot;质量度量标准&quot;">​</a></h2><h3 id="代码覆盖率" tabindex="-1">代码覆盖率 <a class="header-anchor" href="#代码覆盖率" aria-label="Permalink to &quot;代码覆盖率&quot;">​</a></h3><ul><li>单元测试覆盖率应达到80%以上</li><li>关键业务逻辑应达到100%覆盖</li><li>边界条件应充分测试</li></ul><h3 id="代码复杂度" tabindex="-1">代码复杂度 <a class="header-anchor" href="#代码复杂度" aria-label="Permalink to &quot;代码复杂度&quot;">​</a></h3><ul><li>函数圈复杂度应控制在10以内</li><li>类的继承层级不应过深</li><li>模块间的耦合度应尽可能低</li></ul><h3 id="代码重复率" tabindex="-1">代码重复率 <a class="header-anchor" href="#代码重复率" aria-label="Permalink to &quot;代码重复率&quot;">​</a></h3><ul><li>重复代码应提取为公共函数</li><li>相似功能应统一实现方式</li><li>定期进行代码重复检查</li></ul><h2 id="持续集成集成" tabindex="-1">持续集成集成 <a class="header-anchor" href="#持续集成集成" aria-label="Permalink to &quot;持续集成集成&quot;">​</a></h2><h3 id="自动化检查" tabindex="-1">自动化检查 <a class="header-anchor" href="#自动化检查" aria-label="Permalink to &quot;自动化检查&quot;">​</a></h3><ul><li>在CI流程中集成代码质量检查</li><li>自动运行单元测试和集成测试</li><li>生成代码质量报告</li></ul><h3 id="质量门禁" tabindex="-1">质量门禁 <a class="header-anchor" href="#质量门禁" aria-label="Permalink to &quot;质量门禁&quot;">​</a></h3><ul><li>设置代码覆盖率门槛</li><li>检查代码规范符合性</li><li>阻止质量不达标的代码合并</li></ul><hr><p><em>文档版本：v1.0</em><br><em>最后更新：2025-12-16</em></p>`,53)])])}const c=s(h,[["render",t]]);export{o as __pageData,c as default};
