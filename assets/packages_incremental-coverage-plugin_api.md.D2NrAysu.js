import{_ as o,c as a,o as r,a3 as t}from"./chunks/framework.KoSEt7m1.js";const u=JSON.parse('{"title":"api","description":"","frontmatter":{"title":"api","editLink":true},"headers":[],"relativePath":"packages/incremental-coverage-plugin/api.md","filePath":"packages/incremental-coverage-plugin/api.md"}'),l={name:"packages/incremental-coverage-plugin/api.md"};function i(n,e,s,c,d,h){return r(),a("div",null,[...e[0]||(e[0]=[t('<h1 id="api-reference" tabindex="-1">API Reference <a class="header-anchor" href="#api-reference" aria-label="Permalink to &quot;API Reference&quot;">​</a></h1><p>本文档详细介绍了 <code>@51jbs/incremental-coverage-plugin</code> 的配置选项及其含义。</p><h2 id="配置对象-incrementalcoverageoptions" tabindex="-1">配置对象 (IncrementalCoverageOptions) <a class="header-anchor" href="#配置对象-incrementalcoverageoptions" aria-label="Permalink to &quot;配置对象 (IncrementalCoverageOptions)&quot;">​</a></h2><p>所有配置项均可选，插件会根据环境提供默认值。</p><h3 id="过滤选项" tabindex="-1">过滤选项 <a class="header-anchor" href="#过滤选项" aria-label="Permalink to &quot;过滤选项&quot;">​</a></h3><h4 id="include" tabindex="-1"><code>include</code> <a class="header-anchor" href="#include" aria-label="Permalink to &quot;`include`&quot;">​</a></h4><ul><li><strong>类型</strong>: <code>string[]</code></li><li><strong>默认值</strong>: <code>[&#39;src/**&#39;]</code></li><li><strong>说明</strong>: 采用 Glob 模式定义哪些文件需要进行覆盖率插桩和增量计算。建议仅包含源代码目录以提高性能。</li></ul><h4 id="exclude" tabindex="-1"><code>exclude</code> <a class="header-anchor" href="#exclude" aria-label="Permalink to &quot;`exclude`&quot;">​</a></h4><ul><li><strong>类型</strong>: <code>string[]</code></li><li><strong>默认值</strong>: <code>[&#39;**/*.spec.ts&#39;, &#39;**/*.test.ts&#39;, &#39;**/node_modules/**&#39;]</code></li><li><strong>说明</strong>: 需要明确排除的文件或目录。</li></ul><hr><h3 id="计算选项" tabindex="-1">计算选项 <a class="header-anchor" href="#计算选项" aria-label="Permalink to &quot;计算选项&quot;">​</a></h3><h4 id="gitdiffbase" tabindex="-1"><code>gitDiffBase</code> <a class="header-anchor" href="#gitdiffbase" aria-label="Permalink to &quot;`gitDiffBase`&quot;">​</a></h4><ul><li><strong>类型</strong>: <code>string</code></li><li><strong>默认值</strong>: <code>&#39;main&#39;</code></li><li><strong>说明</strong>: 用于计算增量差异的 Git 基准分支或 Commit ID。插件会对比 <code>HEAD</code> 与该基准的差异，仅计算受影响行的覆盖率。</li></ul><h4 id="threshold" tabindex="-1"><code>threshold</code> <a class="header-anchor" href="#threshold" aria-label="Permalink to &quot;`threshold`&quot;">​</a></h4><ul><li><strong>类型</strong>: <code>number</code></li><li><strong>默认值</strong>: <code>80</code></li><li><strong>说明</strong>: 增量覆盖率的可接受阈值（0-100）。低于此值时，报告状态将标记为“未达标”。</li></ul><hr><h3 id="报告与管理选项" tabindex="-1">报告与管理选项 <a class="header-anchor" href="#报告与管理选项" aria-label="Permalink to &quot;报告与管理选项&quot;">​</a></h3><h4 id="outputdir" tabindex="-1"><code>outputDir</code> <a class="header-anchor" href="#outputdir" aria-label="Permalink to &quot;`outputDir`&quot;">​</a></h4><ul><li><strong>类型</strong>: <code>string</code></li><li><strong>默认值</strong>: <code>&#39;.coverage&#39;</code></li><li><strong>说明</strong>: 报告生成的目录路径。</li></ul><h4 id="reportformat" tabindex="-1"><code>reportFormat</code> <a class="header-anchor" href="#reportformat" aria-label="Permalink to &quot;`reportFormat`&quot;">​</a></h4><ul><li><strong>类型</strong>: <code>&#39;html&#39; | &#39;json&#39; | &#39;both&#39;</code></li><li><strong>默认值</strong>: <code>&#39;html&#39;</code></li><li><strong>说明</strong>: 指定生成的报告格式。<code>both</code> 将同时生成 HTML 可视化报告和 JSON 数据报告。</li></ul><h4 id="reportinterval" tabindex="-1"><code>reportInterval</code> <a class="header-anchor" href="#reportinterval" aria-label="Permalink to &quot;`reportInterval`&quot;">​</a></h4><ul><li><strong>类型</strong>: <code>number</code></li><li><strong>单位</strong>: 毫秒 (ms)</li><li><strong>默认值</strong>: <code>10000</code> (10s)</li><li><strong>说明</strong>: 报告生成的最小间隔。在频繁 HMR（热更新）过程中，插件会对此频率进行“防抖”处理，避免过度消耗磁盘 IO。</li></ul><h4 id="historycount" tabindex="-1"><code>historyCount</code> <a class="header-anchor" href="#historycount" aria-label="Permalink to &quot;`historyCount`&quot;">​</a></h4><ul><li><strong>类型</strong>: <code>number</code></li><li><strong>默认值</strong>: <code>15</code></li><li><strong>说明</strong>: <code>.coverage</code> 目录下保留的带时间戳历史报告的数量。超出此限制的旧文件将被自动删除。</li></ul><hr><h3 id="高级选项" tabindex="-1">高级选项 <a class="header-anchor" href="#高级选项" aria-label="Permalink to &quot;高级选项&quot;">​</a></h3><h4 id="baselinepath" tabindex="-1"><code>baselinePath</code> <a class="header-anchor" href="#baselinepath" aria-label="Permalink to &quot;`baselinePath`&quot;">​</a></h4><ul><li><strong>类型</strong>: <code>string</code></li><li><strong>默认值</strong>: <code>&#39;.coverage/baseline.json&#39;</code></li><li><strong>说明</strong>: 基线覆盖率文件的存储路径。基线用于识别覆盖率的“回退”。</li></ul><h4 id="autosavebaseline" tabindex="-1"><code>autoSaveBaseline</code> <a class="header-anchor" href="#autosavebaseline" aria-label="Permalink to &quot;`autoSaveBaseline`&quot;">​</a></h4><ul><li><strong>类型</strong>: <code>boolean</code></li><li><strong>默认值</strong>: <code>true</code></li><li><strong>说明</strong>: 首次运行且无基线文件时，是否自动将当前覆盖率存为基线。</li></ul><h4 id="enableoverlay" tabindex="-1"><code>enableOverlay</code> <a class="header-anchor" href="#enableoverlay" aria-label="Permalink to &quot;`enableOverlay`&quot;">​</a></h4><ul><li><strong>类型</strong>: <code>boolean</code></li><li><strong>默认值</strong>: <code>true</code></li><li><strong>说明</strong>: 是否在浏览器端注入 Overlay UI（目前处于实验阶段）。</li></ul>',33)])])}const b=o(l,[["render",i]]);export{u as __pageData,b as default};
