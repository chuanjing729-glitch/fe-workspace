---
title: features
editLink: true
---


增量覆盖率插件不仅仅是一个覆盖率收集工具，它专为高性能研发链路设计，具备多项生产级特性。

## 🎯 增量计算引擎

本插件的核心竞争力在于“精准”。

- **Git Diff 深度集成**: 通过 `simple-git` 自动检测 Workspace 中的未提交改动。
- **行级精准匹配**: 自动解析 Git 输出的 Chunk 信息，过滤出真正的新增或修改行号。
- **差异比对 (Differ v2)**: 基于 `istanbul-diff` 的二次开发，能够完美处理空行、注释及大括号等非执行代码行对覆盖率的干扰。

## 🛡 生产级保护机制

为了确保构建和运行过程的极致稳定，我们内置了以下机制：

- **防抖上报 (Debounced Reporting)**: 自研防抖算法，避免浏览器端频繁触发覆盖率上报，显著降低主线程 CPU 负载。
- **故障容忍与重试**: 上报服务由于网络或其他原因暂时不可用时，具备内建的重试逻辑，确保数据不丢失。
- **报告自动清理**: 自动维护 `.coverage` 目录，默认仅保留最近 15 份历史报告，防止磁盘空间过度膨胀。
- **优雅退出**: 利用 Webpack 钩子，确保在进程中断（如 Ctrl+C）时，依然能完成当前数据的持久化并生成最后一份报告。

## 📊 交互式报告

我们重新设计了报告的展示维度：

- **变更行高亮**: 在报告中直观标注出哪些属于变更行，哪些已被覆盖。
- **时间轴回溯**: 轻松访问历史自测记录，对比研发进度的覆盖率提升趋势。
- **多格式输出**: 同时支持 HTML 可视化报告和 JSON 机器可读报告。

## 🧩 自动化集成

- **HMR 兼容**: 完美支持 Webpack 热更新，开发者修改代码后，覆盖率统计会自动重置或合并。
- **自定义阈值**: 支持针对不同项目、不同阶段设置自定义的 `threshold`，未达标时会在控制台显示显著警告。
