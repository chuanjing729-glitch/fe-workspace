# Spec Plugin (å·¥ç¨‹è§„èŒƒåŠ©æ‰‹)å¢å¼ºæ€»ç»“

## ğŸ“– æ›´æ–°å†…å®¹

### 1. æ–‡æ¡£å¢å¼º

#### Vue2 å¼€å‘è§„èŒƒè¯¦ç»†æŒ‡å—
- **æ–‡ä»¶**: `docs/specs/coding/vue2-guide.md`
- **è¡Œæ•°**: 1160 è¡Œ
- **è¦†ç›–å†…å®¹**:
  - ç»„ä»¶åŸºç¡€ï¼ˆå‘½åã€ç»“æ„ï¼‰
  - Props è§„èŒƒï¼ˆç±»å‹å®šä¹‰ã€é»˜è®¤å€¼ã€ç¦æ­¢ä¿®æ”¹ï¼‰
  - Data è§„èŒƒï¼ˆå¿…é¡»æ˜¯å‡½æ•°ï¼‰
  - Methodsã€Computedã€Watch è§„èŒƒ
  - ç”Ÿå‘½å‘¨æœŸé’©å­è¯¦è§£ï¼ˆå¸¸è§é”™è¯¯æç¤ºï¼‰
  - æ¨¡æ¿è§„èŒƒï¼ˆv-for keyã€v-if vs v-showã€é¿å…åŒæ—¶ä½¿ç”¨ v-if å’Œ v-forï¼‰
  - æ ·å¼è§„èŒƒï¼ˆscopedã€BEM å‘½åï¼‰
  - æ€§èƒ½ä¼˜åŒ–ï¼ˆv-onceã€å‡½æ•°å¼ç»„ä»¶ã€keep-aliveï¼‰
  - æœ€ä½³å®è·µæ£€æŸ¥æ¸…å•

#### JavaScript/TypeScript å¼€å‘è§„èŒƒè¯¦ç»†æŒ‡å—
- **æ–‡ä»¶**: `docs/specs/coding/javascript-typescript-guide.md`
- **è¡Œæ•°**: 1200 è¡Œ
- **è¦†ç›–å†…å®¹**:
  - å˜é‡å£°æ˜ï¼ˆconst/letï¼Œç¦æ­¢ varï¼‰
  - æ•°æ®ç±»å‹ï¼ˆå­—ç¬¦ä¸²ã€æ•°å­—ã€å¸ƒå°”å€¼ã€ç±»å‹è½¬æ¢ï¼‰
  - å‡½æ•°ï¼ˆç®­å¤´å‡½æ•° vs æ™®é€šå‡½æ•°ã€å‚æ•°å¤„ç†ã€è¿”å›å€¼ï¼‰
  - å¯¹è±¡å’Œæ•°ç»„æ“ä½œ
  - å¼‚æ­¥ç¼–ç¨‹ï¼ˆPromiseã€async/awaitã€å¸¸è§æ¨¡å¼ï¼‰
  - TypeScript åŸºç¡€ï¼ˆç±»å‹ã€æ¥å£ã€æ³›å‹ï¼‰
  - é”™è¯¯å¤„ç†
  - æ€§èƒ½ä¼˜åŒ–ï¼ˆé˜²æŠ–ã€èŠ‚æµï¼‰

### 2. è§„åˆ™æ£€æŸ¥å¢å¼º

#### Vue2 è§„åˆ™å¢å¼º
**æ–°å¢ 6 ä¸ªæ£€æŸ¥è§„åˆ™**ï¼Œæ€»è®¡ **13 ä¸ªæ£€æŸ¥é¡¹**ï¼š

| è§„åˆ™ | çº§åˆ« | è¯´æ˜ |
|------|------|------|
| vue/multi-word-component-names | P0 | ç»„ä»¶åå¿…é¡»ä½¿ç”¨å¤šä¸ªå•è¯ï¼ˆé¿å…ä¸ HTML å…ƒç´ å†²çªï¼‰ |
| vue/component-name-format | P1 | ç»„ä»¶ååº”ä½¿ç”¨ PascalCase æ ¼å¼ |
| vue/data-function | P0 | data å¿…é¡»æ˜¯å‡½æ•°ï¼Œä¸èƒ½æ˜¯å¯¹è±¡ |
| vue/props-default-factory | P0 | æ•°ç»„/å¯¹è±¡é»˜è®¤å€¼å¿…é¡»ä½¿ç”¨å·¥å‚å‡½æ•° |
| vue/no-v-if-with-v-for | P0 | v-if å’Œ v-for ä¸èƒ½åŒæ—¶ä½¿ç”¨ |
| vue/scoped-style | P1 | å»ºè®®ä½¿ç”¨ `<style scoped>` é¿å…æ ·å¼æ±¡æŸ“ |
| vue/lifecycle-spelling | P0 | æ£€æŸ¥ beforedestory æ‹¼å†™é”™è¯¯ |

**åŸæœ‰è§„åˆ™**:
- vue/v-for-key (P0) - v-for å¿…é¡»ä½¿ç”¨ key
- vue/v-for-key-index (P1) - ä¸å»ºè®®ä½¿ç”¨ index ä½œä¸º key
- vue/props-type-definition (P0) - Props ç±»å‹æ£€æŸ¥
- vue/props-mutation (P0) - ç¦æ­¢ç›´æ¥ä¿®æ”¹ Props
- vue/lifecycle-hooks (P0) - ç”Ÿå‘½å‘¨æœŸæ‹¼å†™æ£€æŸ¥
- vue/max-component-lines (P1) - ç»„ä»¶å¤§å°é™åˆ¶
- vue/specific-event-names (P1) - äº‹ä»¶å‘½åè§„èŒƒ

#### JavaScript è§„åˆ™å¢å¼º
**æ–°å¢ 5 ä¸ªæ£€æŸ¥è§„åˆ™**ï¼Œæ€»è®¡ **8 ä¸ªæ£€æŸ¥é¡¹**ï¼š

| è§„åˆ™ | çº§åˆ« | è¯´æ˜ |
|------|------|------|
| javascript/no-loose-equality | P1 | ç¦æ­¢ä½¿ç”¨ == å’Œ !=ï¼Œå»ºè®®ä½¿ç”¨ === å’Œ !== |
| javascript/no-arguments | P1 | ç¦æ­¢ä½¿ç”¨ argumentsï¼Œå»ºè®®ä½¿ç”¨å‰©ä½™å‚æ•° (...args) |
| javascript/no-anonymous-function | P1 | ç¦æ­¢åŒ¿åå‡½æ•°ï¼Œå»ºè®®ä½¿ç”¨ç®­å¤´å‡½æ•°æˆ–å‘½åå‡½æ•° |
| javascript/no-console | P1 | ç”Ÿäº§ä»£ç ä¸åº”åŒ…å« console.log/warn/debug/info |
| javascript/no-eval | P0 | ç¦æ­¢ä½¿ç”¨ evalï¼Œå­˜åœ¨å®‰å…¨é£é™© |

**åŸæœ‰è§„åˆ™**:
- javascript/no-var (P0) - ç¦æ­¢ä½¿ç”¨ var
- javascript/prefer-template-literals (P1) - å­—ç¬¦ä¸²æ‹¼æ¥æ£€æŸ¥
- javascript/max-callback-depth (P1) - å›è°ƒåµŒå¥—æ·±åº¦æ£€æŸ¥

## ğŸ“Š è§„èŒƒè¦†ç›–æƒ…å†µ

### Vue2 è§„èŒƒè¦†ç›–
- âœ… ç»„ä»¶å‘½åï¼ˆå•è¯æ•°ã€æ ¼å¼ï¼‰
- âœ… Props å®šä¹‰ï¼ˆç±»å‹ã€é»˜è®¤å€¼ã€ä¿®æ”¹ï¼‰
- âœ… Data å®šä¹‰ï¼ˆå¿…é¡»æ˜¯å‡½æ•°ï¼‰
- âœ… ç”Ÿå‘½å‘¨æœŸï¼ˆæ‹¼å†™æ£€æŸ¥ï¼‰
- âœ… æ¨¡æ¿æŒ‡ä»¤ï¼ˆv-for keyã€v-if + v-forï¼‰
- âœ… æ ·å¼ä½œç”¨åŸŸï¼ˆscopedï¼‰
- âœ… ç»„ä»¶å¤§å°é™åˆ¶
- âœ… äº‹ä»¶å‘½åè§„èŒƒ

### JavaScript è§„èŒƒè¦†ç›–
- âœ… å˜é‡å£°æ˜ï¼ˆç¦æ­¢ varï¼‰
- âœ… å­—ç¬¦ä¸²å¤„ç†ï¼ˆæ¨¡æ¿å­—ç¬¦ä¸² vs æ‹¼æ¥ï¼‰
- âœ… ç›¸ç­‰æ¯”è¾ƒï¼ˆ=== vs ==ï¼‰
- âœ… å‡½æ•°å‚æ•°ï¼ˆå‰©ä½™å‚æ•° vs argumentsï¼‰
- âœ… å‡½æ•°å®šä¹‰ï¼ˆå‘½å vs åŒ¿åï¼‰
- âœ… æ§åˆ¶å°è¾“å‡ºï¼ˆconsole.logï¼‰
- âœ… å®‰å…¨æ£€æŸ¥ï¼ˆevalï¼‰
- âœ… å›è°ƒåµŒå¥—æ·±åº¦

## ğŸ¯ é’ˆå¯¹åˆçº§å¼€å‘è€…çš„ç‰¹åˆ«è®¾è®¡

### 1. è¯¦ç»†çš„æ–‡æ¡£è¯´æ˜
- æ¯ä¸ªè§„èŒƒéƒ½æœ‰ âœ… æ­£ç¡®ç¤ºä¾‹å’Œ âŒ é”™è¯¯ç¤ºä¾‹
- åŒ…å« **ä¸ºä»€ä¹ˆ** éƒ¨åˆ†ï¼Œè§£é‡Šè§„èŒƒèƒŒåçš„åŸå› 
- ä½¿ç”¨è¡¨æ ¼å¯¹æ¯”ä¸åŒæ–¹æ¡ˆçš„ä¼˜åŠ£

### 2. å¸¸è§é”™è¯¯æ£€æŸ¥
è¦†ç›–åˆçº§å¼€å‘è€…æœ€å®¹æ˜“çŠ¯çš„é”™è¯¯ï¼š

| å¸¸è§é”™è¯¯ | æ£€æŸ¥è§„åˆ™ | è¯´æ˜ |
|---------|---------|------|
| ç»„ä»¶ååªç”¨ä¸€ä¸ªå•è¯ | vue/multi-word-component-names | å¦‚ name: 'Todo' |
| data å†™æˆå¯¹è±¡ | vue/data-function | data: { count: 0 } |
| props é»˜è®¤å€¼ä¸ç”¨å‡½æ•° | vue/props-default-factory | default: [] æˆ– default: {} |
| v-if å’Œ v-for åŒæ—¶ç”¨ | vue/no-v-if-with-v-for | æ€§èƒ½é—®é¢˜ |
| å¿˜è®°å†™ scoped | vue/scoped-style | æ ·å¼æ±¡æŸ“ |
| beforedestory æ‹¼å†™é”™è¯¯ | vue/lifecycle-spelling | å¸¸è§ç¬”è¯¯ |
| ä½¿ç”¨ var | javascript/no-var | ä½œç”¨åŸŸé—®é¢˜ |
| ä½¿ç”¨ == | javascript/no-loose-equality | ç±»å‹è½¬æ¢é™·é˜± |
| ä½¿ç”¨ arguments | javascript/no-arguments | ES6+ å†™æ³• |
| ç•™ä¸‹ console.log | javascript/no-console | ç”Ÿäº§ä»£ç æ¸…ç† |

### 3. å®æ—¶åé¦ˆ
- æ„å»ºæ—¶è‡ªåŠ¨æ£€æŸ¥
- æ¸…æ™°çš„é”™è¯¯æç¤ºä¿¡æ¯
- åŒ…å«è§„åˆ™åç§°å’Œä¿®å¤å»ºè®®

## ğŸš€ ä½¿ç”¨æ–¹å¼

### 1. æŸ¥çœ‹è§„èŒƒæ–‡æ¡£

Vue2 è§„èŒƒï¼š
```bash
docs/specs/coding/vue2-guide.md
```

JavaScript è§„èŒƒï¼š
```bash
docs/specs/coding/javascript-typescript-guide.md
```

### 2. åœ¨é¡¹ç›®ä¸­ä½¿ç”¨

```javascript
// webpack.config.js
const SpecPlugin = require('@51jbs/spec-plugin')

module.exports = {
  plugins: [
    new SpecPlugin({
      mode: 'incremental',
      severity: 'normal',
      rules: {
        vue: true,          // Vue2 è§„èŒƒæ£€æŸ¥ï¼ˆ13é¡¹ï¼‰
        javascript: true,   // JavaScript è§„èŒƒæ£€æŸ¥ï¼ˆ8é¡¹ï¼‰
        naming: true,
        security: true,
        performance: true
      }
    })
  ]
}
```

### 3. é…ç½®è¯´æ˜

```javascript
{
  mode: 'incremental',  // å¢é‡æ£€æŸ¥ï¼Œåªæ£€æŸ¥å˜æ›´æ–‡ä»¶
  severity: 'normal',   // ä¸¥æ ¼ç¨‹åº¦: strict | normal | loose
  rules: {
    vue: true,          // å¯ç”¨ Vue2 è§„åˆ™
    javascript: true    // å¯ç”¨ JavaScript è§„åˆ™
  }
}
```

## ğŸ“ˆ æ•ˆæœè¯„ä¼°

### è§„åˆ™æ•°é‡æå‡
- Vue è§„åˆ™: 7 â†’ 13 é¡¹ (**+85.7%**)
- JavaScript è§„åˆ™: 3 â†’ 8 é¡¹ (**+166.7%**)
- æ€»æ£€æŸ¥é¡¹: 10 â†’ 21 é¡¹

### æ–‡æ¡£å®Œå–„åº¦
- Vue2 è¯¦ç»†æŒ‡å—: **1160 è¡Œ**
- JavaScript è¯¦ç»†æŒ‡å—: **1200 è¡Œ**
- ä»£ç ç¤ºä¾‹: **50+ ä¸ª**
- 100% ä¸­æ–‡æ³¨é‡Šï¼Œé€‚åˆä¸­æ–‡å›¢é˜Ÿ

### è¦†ç›–åˆçº§å¼€å‘è€…é—®é¢˜
ä»¥ä¸‹æ˜¯åˆçº§å‰ç«¯å¼€å‘è€…æœ€å®¹æ˜“çŠ¯çš„10ä¸ªé”™è¯¯ï¼Œç°åœ¨éƒ½æœ‰æ£€æŸ¥ï¼š

1. âœ… ç»„ä»¶å‘½ååªç”¨ä¸€ä¸ªå•è¯
2. âœ… data ä¸æ˜¯å‡½æ•°
3. âœ… props é»˜è®¤å€¼ä¸ç”¨å·¥å‚å‡½æ•°
4. âœ… v-if å’Œ v-for åŒæ—¶ä½¿ç”¨
5. âœ… å¿˜è®° scoped
6. âœ… beforedestory æ‹¼å†™é”™è¯¯
7. âœ… ä½¿ç”¨ var å£°æ˜å˜é‡
8. âœ… ä½¿ç”¨ == è€Œé ===
9. âœ… ä½¿ç”¨ arguments å¯¹è±¡
10. âœ… console.log æœªæ¸…ç†

## ğŸ“ å˜æ›´æ–‡ä»¶æ¸…å•

### æ–°å¢æ–‡ä»¶
- `docs/specs/coding/vue2-guide.md` (1160 è¡Œ) - Vue2 è¯¦ç»†è§„èŒƒ
- `docs/specs/coding/javascript-typescript-guide.md` (1200 è¡Œ) - JS/TS è¯¦ç»†è§„èŒƒ
- `packages/spec-plugin/test-enhanced-rules.js` (220 è¡Œ) - å¢å¼ºæµ‹è¯•

### ä¿®æ”¹æ–‡ä»¶
- `packages/spec-plugin/src/rules/vue-rule.ts` (+290 è¡Œ) - æ–°å¢6ä¸ªæ£€æŸ¥
- `packages/spec-plugin/src/rules/javascript-rule.ts` (+188 è¡Œ) - æ–°å¢5ä¸ªæ£€æŸ¥
- `packages/spec-plugin/src/index.ts` (+18 è¡Œ) - é›†æˆæ–°è§„åˆ™

### æ€»è®¡
- æ–°å¢ä»£ç : ~3000 è¡Œ
- æ–°å¢æ£€æŸ¥è§„åˆ™: 11 ä¸ª
- æ–°å¢æ–‡æ¡£: 2360 è¡Œ

## ğŸ‰ ä¸»è¦äº®ç‚¹

1. **è¶³å¤Ÿç»†è‡´**: 2360 è¡Œæ–‡æ¡£ï¼Œ50+ ä»£ç ç¤ºä¾‹ï¼Œè¦†ç›–æ‰€æœ‰å¸¸è§åœºæ™¯
2. **é¢å‘åˆçº§å¼€å‘è€…**: æ¯ä¸ªè§„èŒƒéƒ½æœ‰è¯¦ç»†è¯´æ˜å’Œå¯¹æ¯”ç¤ºä¾‹
3. **è‡ªåŠ¨åŒ–æ£€æŸ¥**: 11 ä¸ªæ–°å¢è§„åˆ™ï¼Œ21 ä¸ªæ€»æ£€æŸ¥é¡¹
4. **ä¸­æ–‡å‹å¥½**: 100% ä¸­æ–‡æ³¨é‡Šå’Œæ–‡æ¡£
5. **å³æ—¶åé¦ˆ**: æ„å»ºæ—¶è‡ªåŠ¨æ£€æŸ¥ï¼Œæ¸…æ™°çš„é”™è¯¯æç¤º

---

**æ›´æ–°æ—¶é—´**: 2025-12-15  
**ç‰ˆæœ¬**: v2.2.0 (å¢å¼ºç‰ˆ)  
**é€‚ç”¨èŒƒå›´**: Vue2 + JavaScript/TypeScript é¡¹ç›®
