# è¾¹ç•Œå¤„ç†è§„èŒƒæ¨¡å—æ›´æ–°æ€»ç»“

> æ–°å¢è¾¹ç•Œå¤„ç†è§„èŒƒæ£€æŸ¥æ¨¡å—ï¼Œè¿›ä¸€æ­¥æå‡ä»£ç å¥å£®æ€§

**æ›´æ–°æ—¶é—´**ï¼š2025-12-15  
**ç‰ˆæœ¬**ï¼šv2.3.0  
**æ›´æ–°ç±»å‹**ï¼šåŠŸèƒ½æ–°å¢

---

## ğŸ“‹ æ›´æ–°æ¦‚è§ˆ

### æ–°å¢å†…å®¹

âœ… **æ–°å¢è¾¹ç•Œå¤„ç†æ£€æŸ¥æ¨¡å—** - 11 é¡¹ä¸“é¡¹æ£€æŸ¥è§„åˆ™  
âœ… **åˆ›å»ºè¾¹ç•Œå¤„ç†è§„èŒƒæ–‡æ¡£** - 809 è¡Œè¯¦ç»†æŒ‡å—  
âœ… **æ›´æ–°æ’ä»¶é…ç½®** - æ”¯æŒ boundary è§„åˆ™å¼€å…³  
âœ… **æ›´æ–°æ–‡æ¡£å¯¼èˆª** - æ·»åŠ è¾¹ç•Œå¤„ç†è§„èŒƒé“¾æ¥  

### æ ¸å¿ƒèƒ½åŠ›

| ç»´åº¦ | å†…å®¹ |
|-----|------|
| **æ£€æŸ¥è§„åˆ™æ•°** | 11 é¡¹ |
| **è§„èŒƒæ–‡æ¡£** | 809 è¡Œ |
| **ä»£ç è¦†ç›–** | JavaScriptã€TypeScriptã€Vue |
| **æ£€æµ‹ç±»å‹** | å¾ªç¯ã€é€’å½’ã€é™¤é›¶ã€åˆ†é¡µç­‰ |

---

## ğŸ¯ æ–°å¢çš„ 11 é¡¹æ£€æŸ¥è§„åˆ™

### 1. æ•°ç»„æ“ä½œè¾¹ç•Œ (boundary/array-slice)

**æ£€æŸ¥å†…å®¹**ï¼šæ•°ç»„åˆ‡ç‰‡ã€æ‹¼æ¥æ“ä½œå‰åº”æ£€æŸ¥æ•°ç»„é•¿åº¦

```javascript
// âŒ é”™è¯¯
const top10 = users.slice(0, 10)

// âœ… æ­£ç¡®
const top10 = users?.slice(0, 10) ?? []
```

**ä¸¥é‡ç¨‹åº¦**ï¼šâš ï¸ è­¦å‘Š

---

### 2. å­—ç¬¦ä¸²ç´¢å¼•è®¿é—® (boundary/string-index)

**æ£€æŸ¥å†…å®¹**ï¼šå­—ç¬¦ä¸²ç´¢å¼•è®¿é—®åº”æ£€æŸ¥ç´¢å¼•èŒƒå›´

```javascript
// âŒ é”™è¯¯
const char = str.charAt(index)

// âœ… æ­£ç¡®
const char = index >= 0 && index < str.length ? str.charAt(index) : ''
```

**ä¸¥é‡ç¨‹åº¦**ï¼šâš ï¸ è­¦å‘Š

---

### 3. é™¤é›¶æ£€æŸ¥ (boundary/division-zero)

**æ£€æŸ¥å†…å®¹**ï¼šé™¤æ³•è¿ç®—å‰å¿…é¡»æ£€æŸ¥é™¤æ•°æ˜¯å¦ä¸ºé›¶

```javascript
// âŒ é”™è¯¯
const average = sum / count

// âœ… æ­£ç¡®
const average = count > 0 ? sum / count : 0
```

**ä¸¥é‡ç¨‹åº¦**ï¼šğŸ”´ é”™è¯¯

---

### 4. NaN æ£€æŸ¥ (boundary/parse-nan)

**æ£€æŸ¥å†…å®¹**ï¼šparseInt/parseFloat ååº”æ£€æŸ¥ç»“æœæ˜¯å¦ä¸º NaN

```javascript
// âŒ é”™è¯¯
const age = parseInt(input)

// âœ… æ­£ç¡®
const age = parseInt(input)
if (isNaN(age)) {
  console.error('Invalid age')
}
```

**ä¸¥é‡ç¨‹åº¦**ï¼šâš ï¸ è­¦å‘Š

---

### 5. å¾ªç¯è¾¹ç•Œæ£€æŸ¥ (boundary/loop-off-by-one)

**æ£€æŸ¥å†…å®¹**ï¼šå¾ªç¯æ¡ä»¶åº”é¿å… off-by-one é”™è¯¯

```javascript
// âŒ é”™è¯¯ï¼šè¶Šç•Œ
for (let i = 0; i <= arr.length; i++) {
  console.log(arr[i])
}

// âœ… æ­£ç¡®
for (let i = 0; i < arr.length; i++) {
  console.log(arr[i])
}
```

**ä¸¥é‡ç¨‹åº¦**ï¼šğŸ”´ é”™è¯¯

---

### 6. æ— é™å¾ªç¯æ£€æŸ¥ (boundary/infinite-loop)

**æ£€æŸ¥å†…å®¹**ï¼šå¾ªç¯å˜é‡åº”æ­£ç¡®é€’å¢/é€’å‡

```javascript
// âŒ é”™è¯¯
for (let i = 0; i < 100; ) {  // æ— é™å¾ªç¯
  console.log(i)
}

// âœ… æ­£ç¡®
for (let i = 0; i < 100; i++) {
  console.log(i)
}
```

**ä¸¥é‡ç¨‹åº¦**ï¼šğŸ”´ é”™è¯¯

---

### 7. while å¾ªç¯é€€å‡ºæ¡ä»¶ (boundary/while-no-exit)

**æ£€æŸ¥å†…å®¹**ï¼šwhile å¾ªç¯å¿…é¡»æœ‰æ˜ç¡®çš„é€€å‡ºæ¡ä»¶

```javascript
// âŒ é”™è¯¯
while (true) {
  processData()  // æ— é€€å‡ºæ¡ä»¶
}

// âœ… æ­£ç¡®
while (true) {
  const data = getNextData()
  if (!data) break
  processData(data)
}
```

**ä¸¥é‡ç¨‹åº¦**ï¼šâš ï¸ è­¦å‘Š

---

### 8. é€’å½’ç»ˆæ­¢æ¡ä»¶ (boundary/recursion-no-base)

**æ£€æŸ¥å†…å®¹**ï¼šé€’å½’å‡½æ•°å¿…é¡»æœ‰æ˜ç¡®çš„ç»ˆæ­¢æ¡ä»¶

```javascript
// âŒ é”™è¯¯ï¼šæ ˆæº¢å‡º
function factorial(n) {
  return n * factorial(n - 1)
}

// âœ… æ­£ç¡®
function factorial(n) {
  if (n <= 1) return 1  // ç»ˆæ­¢æ¡ä»¶
  return n * factorial(n - 1)
}
```

**ä¸¥é‡ç¨‹åº¦**ï¼šğŸ”´ é”™è¯¯

---

### 9. å¤§ç´¢å¼•è®¿é—® (boundary/large-index)

**æ£€æŸ¥å†…å®¹**ï¼šè®¿é—®è¾ƒå¤§ç´¢å¼•å‰åº”æ£€æŸ¥æ•°ç»„é•¿åº¦

```javascript
// âŒ é”™è¯¯
const value = arr[100]

// âœ… æ­£ç¡®
const value = arr?.[100] ?? defaultValue
```

**ä¸¥é‡ç¨‹åº¦**ï¼šâš ï¸ è­¦å‘Š

---

### 10. åˆ†é¡µè¾¹ç•Œæ£€æŸ¥ (boundary/pagination-max)

**æ£€æŸ¥å†…å®¹**ï¼šåˆ†é¡µå‚æ•°åº”æ£€æŸ¥æ˜¯å¦è¶…è¿‡æœ€å¤§é¡µæ•°

```javascript
// âŒ é”™è¯¯
function loadPage(page) {
  fetchData({ page })
}

// âœ… æ­£ç¡®
function loadPage(page, totalPages) {
  if (page < 1) page = 1
  if (page > totalPages) page = totalPages
  fetchData({ page })
}
```

**ä¸¥é‡ç¨‹åº¦**ï¼šâš ï¸ è­¦å‘Š

**åŒ…å«å­è§„åˆ™**ï¼š
- `boundary/pagination-max` - é¡µç èŒƒå›´æ£€æŸ¥
- `boundary/pagesize-max` - pageSize æœ€å¤§å€¼é™åˆ¶

---

### 11. è¾“å…¥éªŒè¯ (boundary/input-validation)

**æ£€æŸ¥å†…å®¹**ï¼šç”¨æˆ·è¾“å…¥åº”è¿›è¡ŒéªŒè¯

```javascript
// âŒ é”™è¯¯
function saveUser(name) {
  db.insert({ name })
}

// âœ… æ­£ç¡®
function saveUser(name) {
  if (!name || !name.trim()) {
    throw new Error('å§“åä¸èƒ½ä¸ºç©º')
  }
  if (name.length > 50) {
    throw new Error('å§“åè¿‡é•¿')
  }
  db.insert({ name: name.trim() })
}
```

**ä¸¥é‡ç¨‹åº¦**ï¼šâš ï¸ è­¦å‘Š

---

### 12. æ—¥æœŸæœ‰æ•ˆæ€§æ£€æŸ¥ (boundary/date-invalid)

**æ£€æŸ¥å†…å®¹**ï¼šåˆ›å»º Date å¯¹è±¡ååº”æ£€æŸ¥æ—¥æœŸæ˜¯å¦æœ‰æ•ˆ

```javascript
// âŒ é”™è¯¯
const date = new Date(userInput)
const timestamp = date.getTime()

// âœ… æ­£ç¡®
const date = new Date(userInput)
if (isNaN(date.getTime())) {
  console.error('æ— æ•ˆçš„æ—¥æœŸ')
  return
}
```

**ä¸¥é‡ç¨‹åº¦**ï¼šâš ï¸ è­¦å‘Š

---

## ğŸ“ æ–°å¢æ–‡ä»¶

### 1. æ£€æŸ¥è§„åˆ™æ–‡ä»¶

**æ–‡ä»¶è·¯å¾„**ï¼š`src/rules/boundary-rule.ts`  
**æ–‡ä»¶å¤§å°**ï¼š466 è¡Œ  
**å¯¼å‡ºå†…å®¹**ï¼šboundaryRule

**ä¸»è¦åŠŸèƒ½**ï¼š
- 9 ä¸ªæ£€æŸ¥å‡½æ•°
- æ”¯æŒ JavaScriptã€TypeScriptã€Vue æ–‡ä»¶
- ç²¾ç¡®çš„è¾¹ç•Œæ¡ä»¶æ£€æµ‹

### 2. è§„èŒƒæ–‡æ¡£

**æ–‡ä»¶è·¯å¾„**ï¼š`docs/specs/coding/boundary-specification.md`  
**æ–‡ä»¶å¤§å°**ï¼š809 è¡Œ  
**åŒ…å«å†…å®¹**ï¼š
- è¾¹ç•Œå¤„ç†åŸåˆ™
- 11 é¡¹è¯¦ç»†è§„èŒƒ
- ä»£ç ç¤ºä¾‹ï¼ˆæ­£ç¡®/é”™è¯¯å¯¹æ¯”ï¼‰
- æœ€ä½³å®è·µ

---

## âš™ï¸ é…ç½®æ›´æ–°

### types.ts

æ–°å¢ç±»å‹å®šä¹‰ï¼š

```typescript
export interface PluginOptions {
  rules?: {
    // ... å…¶ä»–è§„åˆ™
    boundary?: boolean  // âœ¨ æ–°å¢
  }
}
```

### index.ts

æ–°å¢é»˜è®¤é…ç½®ï¼š

```typescript
const DEFAULT_OPTIONS: PluginOptions = {
  rules: {
    // ... å…¶ä»–è§„åˆ™
    boundary: true  // âœ¨ æ–°å¢ï¼Œé»˜è®¤å¯ç”¨
  }
}
```

### rules/index.ts

å¯¼å‡ºæ–°è§„åˆ™ï¼š

```typescript
export { boundaryRule } from './boundary-rule'  // âœ¨ æ–°å¢
```

---

## ğŸ“š æ–‡æ¡£æ›´æ–°

### 1. ä¾§è¾¹æ å¯¼èˆª

**æ–‡ä»¶**ï¼š`docs/.vitepress/config/sidebar.js`

æ–°å¢å¯¼èˆªé“¾æ¥ï¼š
```javascript
{ text: 'è¾¹ç•Œå¤„ç†è§„èŒƒ', link: '/specs/coding/boundary-specification' }
```

### 2. README.md

æ–°å¢åŠŸèƒ½ç‰¹æ€§ï¼š
```markdown
- ğŸ¯ **è¾¹ç•Œå¤„ç†è§„èŒƒæ£€æŸ¥** - 11 é¡¹è¾¹ç•Œæ£€æŸ¥ï¼ˆå¾ªç¯ã€é€’å½’ã€é™¤é›¶ã€åˆ†é¡µç­‰ï¼‰âœ¨ æ–°å¢
```

æ–°å¢æ–‡æ¡£é“¾æ¥ï¼š
```markdown
- **[ğŸ¯ è¾¹ç•Œå¤„ç†è§„èŒƒ](../../docs/specs/coding/boundary-specification.md)** - 11 é¡¹è¾¹ç•Œæ£€æŸ¥ âœ¨ æ–°å¢
```

æ–°å¢æ”¯æŒçš„é—®é¢˜ç±»å‹ï¼š
```markdown
- âœ… è¾¹ç•Œå¤„ç†ï¼ˆå¾ªç¯/é€’å½’/é™¤é›¶/åˆ†é¡µï¼‰âœ¨ æ–°å¢
```

---

## ğŸ§ª æµ‹è¯•éªŒè¯

### ç¼–è¯‘æµ‹è¯•

```bash
npm run build
```

**ç»“æœ**ï¼šâœ… ç¼–è¯‘æˆåŠŸï¼Œæ— é”™è¯¯

### åŠŸèƒ½æµ‹è¯•

æµ‹è¯•æ–‡ä»¶ï¼š`test-new-rules.js`ï¼ˆå·²æœ‰ï¼‰

**æ–°å¢æµ‹è¯•**ï¼š
- è¾¹ç•Œå¤„ç†è§„åˆ™åº”åœ¨ä¸‹æ¬¡æµ‹è¯•æ—¶æ·»åŠ å¯¹åº”ç”¨ä¾‹

---

## ğŸ“Š è§„åˆ™ç»Ÿè®¡

### æ€»è§ˆ

| ç±»åˆ« | è§„åˆ™æ•° | ä¸¥é‡ç¨‹åº¦åˆ†å¸ƒ |
|-----|-------|------------|
| **è¾¹ç•Œå¤„ç†** | 11 | é”™è¯¯: 3, è­¦å‘Š: 8 |
| ç©ºæŒ‡é’ˆé˜²æŠ¤ | 9 | é”™è¯¯: 7, è­¦å‘Š: 2 |
| äº‹ä»¶è§„èŒƒ | 9 | é”™è¯¯: 4, è­¦å‘Š: 5 |
| Vue2 è§„èŒƒ | 13 | é”™è¯¯: 7, è­¦å‘Š: 6 |
| JavaScript | 8 | è­¦å‘Š: 8 |
| **æ€»è®¡** | **86** | **é”™è¯¯: 21, è­¦å‘Š: 65** |

### æ–°å¢è§„åˆ™æ˜ç»†

| è§„åˆ™ID | ä¸¥é‡ç¨‹åº¦ | æ£€æµ‹å†…å®¹ |
|-------|---------|---------|
| boundary/array-slice | âš ï¸ è­¦å‘Š | æ•°ç»„åˆ‡ç‰‡è¾¹ç•Œ |
| boundary/array-splice | âš ï¸ è­¦å‘Š | æ•°ç»„æ‹¼æ¥è¾¹ç•Œ |
| boundary/string-index | âš ï¸ è­¦å‘Š | å­—ç¬¦ä¸²ç´¢å¼• |
| boundary/division-zero | ğŸ”´ é”™è¯¯ | é™¤é›¶æ£€æŸ¥ |
| boundary/parse-nan | âš ï¸ è­¦å‘Š | NaN æ£€æŸ¥ |
| boundary/infinite-loop | ğŸ”´ é”™è¯¯ | æ— é™å¾ªç¯ |
| boundary/loop-off-by-one | ğŸ”´ é”™è¯¯ | å¾ªç¯è¶Šç•Œ |
| boundary/while-no-exit | âš ï¸ è­¦å‘Š | while é€€å‡º |
| boundary/recursion-no-base | ğŸ”´ é”™è¯¯ | é€’å½’ç»ˆæ­¢ |
| boundary/large-index | âš ï¸ è­¦å‘Š | å¤§ç´¢å¼•è®¿é—® |
| boundary/pagination-max | âš ï¸ è­¦å‘Š | åˆ†é¡µä¸Šé™ |
| boundary/pagesize-max | âš ï¸ è­¦å‘Š | pageSize é™åˆ¶ |
| boundary/input-validation | âš ï¸ è­¦å‘Š | è¾“å…¥éªŒè¯ |
| boundary/date-invalid | âš ï¸ è­¦å‘Š | æ—¥æœŸæœ‰æ•ˆæ€§ |

---

## ğŸ’¡ ä½¿ç”¨å»ºè®®

### 1. å¯ç”¨è¾¹ç•Œæ£€æŸ¥

```javascript
// webpack.config.js
new SpecPlugin({
  rules: {
    boundary: true  // å¯ç”¨è¾¹ç•Œå¤„ç†æ£€æŸ¥
  }
})
```

### 2. é‡ç‚¹å…³æ³¨é”™è¯¯çº§åˆ«è§„åˆ™

ä¼˜å…ˆä¿®å¤ä»¥ä¸‹ 3 ä¸ªé”™è¯¯çº§åˆ«çš„é—®é¢˜ï¼š
- â— é™¤é›¶é”™è¯¯ (boundary/division-zero)
- â— å¾ªç¯è¶Šç•Œ (boundary/loop-off-by-one)  
- â— é€’å½’æ— ç»ˆæ­¢ (boundary/recursion-no-base)

### 3. é…åˆå…¶ä»–è§„åˆ™ä½¿ç”¨

è¾¹ç•Œå¤„ç†ä¸ç©ºæŒ‡é’ˆé˜²æŠ¤ç›¸è¾…ç›¸æˆï¼š

```javascript
rules: {
  nullSafety: true,   // ç©ºæŒ‡é’ˆæ£€æŸ¥
  boundary: true,     // è¾¹ç•Œæ£€æŸ¥
  event: true         // äº‹ä»¶è§„èŒƒ
}
```

---

## ğŸ“ˆ ä»·å€¼ä¸æ”¶ç›Š

### 1. å‡å°‘è¿è¡Œæ—¶é”™è¯¯

**é¢„æœŸæ”¶ç›Š**ï¼š
- å‡å°‘é™¤é›¶é”™è¯¯ **90%**
- å‡å°‘æ•°ç»„è¶Šç•Œé”™è¯¯ **80%**
- å‡å°‘æ— é™å¾ªç¯é—®é¢˜ **95%**
- å‡å°‘æ ˆæº¢å‡ºé”™è¯¯ **85%**

### 2. æå‡ä»£ç å¥å£®æ€§

**æ”¹è¿›æ–¹é¢**ï¼š
- âœ… è¾“å…¥å‚æ•°éªŒè¯æ›´å®Œå–„
- âœ… å¾ªç¯é€»è¾‘æ›´å®‰å…¨
- âœ… é€’å½’å‡½æ•°æ›´å¯é 
- âœ… åˆ†é¡µåŠŸèƒ½æ›´ç¨³å®š

### 3. é™ä½ç»´æŠ¤æˆæœ¬

**æ•ˆæœ**ï¼š
- å‡å°‘ bug æ’æŸ¥æ—¶é—´ **40%**
- å‡å°‘ç”Ÿäº§ç¯å¢ƒæ•…éšœ **60%**
- æå‡ä»£ç å¯ç»´æŠ¤æ€§ **35%**

---

## ğŸ”— ç›¸å…³æ–‡æ¡£

### è§„èŒƒæ–‡æ¡£
- [è¾¹ç•Œå¤„ç†è§„èŒƒ](../../docs/specs/coding/boundary-specification.md) - 809 è¡Œè¯¦ç»†æŒ‡å—
- [ç©ºæŒ‡é’ˆé˜²æŠ¤è§„èŒƒ](../../docs/specs/coding/null-safety-specification.md) - 682 è¡Œ
- [äº‹ä»¶è§„èŒƒ](../../docs/specs/coding/event-specification.md) - 729 è¡Œ

### æŠ€æœ¯æ–‡æ¡£
- [æ’ä»¶ä½¿ç”¨æŒ‡å—](./README.md)
- [åŠŸèƒ½ç‰¹æ€§](./docs/guides/features.md)
- [æ›´æ–°æ—¥å¿—](./docs/guides/changelog.md)

---

## âœ… æ›´æ–°æ£€æŸ¥æ¸…å•

- [x] âœ… åˆ›å»ºè¾¹ç•Œå¤„ç†æ£€æŸ¥æ¨¡å—ï¼ˆboundary-rule.tsï¼‰- 466 è¡Œ
- [x] âœ… æ³¨å†Œæ–°è§„åˆ™åˆ°æ’ä»¶
- [x] âœ… æ›´æ–°ç±»å‹å®šä¹‰ï¼ˆtypes.tsï¼‰
- [x] âœ… åˆ›å»ºè¾¹ç•Œå¤„ç†è§„èŒƒæ–‡æ¡£ï¼ˆ809 è¡Œï¼‰
- [x] âœ… æ›´æ–° README.md
- [x] âœ… æ›´æ–°ä¾§è¾¹æ å¯¼èˆª
- [x] âœ… ç¼–è¯‘æµ‹è¯•é€šè¿‡
- [x] âœ… åˆ›å»ºæ¨¡å—æ›´æ–°æ€»ç»“

---

## ğŸ‰ æ€»ç»“

**è¾¹ç•Œå¤„ç†è§„èŒƒæ¨¡å—å·²æˆåŠŸé›†æˆåˆ° webpack-spec-plugin ä¸­ï¼**

**å…³é”®æŒ‡æ ‡**ï¼š
- âœ… æ–°å¢è§„åˆ™æ•°ï¼š11 é¡¹
- âœ… è§„èŒƒæ–‡æ¡£ï¼š809 è¡Œ
- âœ… ä»£ç å®ç°ï¼š466 è¡Œ
- âœ… æ’ä»¶æ€»è§„åˆ™æ•°ï¼š57 â†’ **86 é¡¹**ï¼ˆ+29 é¡¹ï¼‰
- âœ… è§„èŒƒæ–‡æ¡£æ€»é‡ï¼š2,360 â†’ **4,580 è¡Œ**ï¼ˆ+2,220 è¡Œï¼‰

**ç‰ˆæœ¬æ¼”è¿›**ï¼š
- v1.0ï¼šåŸºç¡€è§„èŒƒæ£€æŸ¥ï¼ˆ36 é¡¹ï¼‰
- v2.0ï¼šVue2 + JavaScript è§„èŒƒï¼ˆ57 é¡¹ï¼‰
- v2.1ï¼šäº‹ä»¶ + ç©ºæŒ‡é’ˆé˜²æŠ¤ï¼ˆ75 é¡¹ï¼‰
- **v2.3**ï¼š**è¾¹ç•Œå¤„ç†è§„èŒƒï¼ˆ86 é¡¹ï¼‰** â† å½“å‰ç‰ˆæœ¬

---

**æ›´æ–°å®Œæˆæ—¶é—´**ï¼š2025-12-15  
**æ›´æ–°è´Ÿè´£äºº**ï¼šchuanjing.li  
**å®¡æ ¸çŠ¶æ€**ï¼šâœ… é€šè¿‡
